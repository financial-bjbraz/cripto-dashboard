!function(){"use strict";var e,n,t,r,o,i,a,s,c,u,l,d,p,f,h,m,v,w,g,y,b,k,x,S,T,C,P,A,I,E,N,R,O,B,j,_,D,L,U,W,z,F,M,q,K,V,G,H,Q,Y,Z,X,$,J,ee,ne,te,re,oe,ie,ae,se,ce,ue,le,de,pe,fe,he,me,ve,we,ge,ye,be,ke,xe,Se,Te,Ce,Pe,Ae,Ie,Ee,Ne,Re,Oe,Be,je,_e,De,Le,Ue,We,ze,Fe,Me,qe,Ke,Ve,Ge,He,Qe,Ye,Ze,Xe,$e,Je,en,nn,tn,rn,on,an,sn,cn,un,ln,dn,pn,fn,hn,mn,vn,wn,gn,yn,bn,kn,xn,Sn,Tn,Cn,Pn,An,In,En,Nn,Rn,On,Bn,jn,_n,Dn,Ln,Un,Wn,zn,Fn,Mn,qn,Kn,Vn,Gn,Hn,Qn,Yn,Zn,Xn,$n,Jn,et,nt,tt,rt,ot,it,at,st,ct,ut,lt,dt,pt,ft,ht,mt,vt,wt,gt,yt,bt,kt,xt,St,Tt,Ct,Pt,At,It,Et,Nt,Rt,Ot,Bt,jt,_t,Dt,Lt,Ut,Wt,zt,Ft,Mt,qt,Kt,Vt,Gt,Ht,Qt,Yt,Zt,Xt,$t;function Jt(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=wr(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function er(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,s=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(s)throw o}}return i}(e,n)||wr(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(){return nr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,t){var r=tr(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(arguments.length<3?e:t):o.value}},nr.apply(this,arguments)}function tr(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=hr(e)););return e}function rr(e){var n="function"==typeof Map?new Map:void 0;return rr=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return or(e,arguments,hr(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ur(r,e)},rr(e)}function or(e,n,t){return or=fr()?Reflect.construct.bind():function(e,n,t){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return t&&ur(o,t.prototype),o},or.apply(null,arguments)}function ir(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ar(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,n,t){return n&&ar(e.prototype,n),t&&ar(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cr(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&ur(e,n)}function ur(e,n){return ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},ur(e,n)}function lr(e){var n=fr();return function(){var t,r=hr(e);if(n){var o=hr(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return dr(this,t)}}function dr(e,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return pr(e)}function pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function hr(e){return hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hr(e)}function mr(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function vr(e){return function(e){if(Array.isArray(e))return gr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,n){if(e){if("string"==typeof e)return gr(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gr(e,n):void 0}}function gr(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function yr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function br(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?yr(Object(t),!0).forEach(function(n){kr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kr(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function xr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xr=function(){return e};var e={},n=Object.prototype,t=n.hasOwnProperty,r=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{c({},"")}catch(I){c=function(e,n,t){return e[n]=t}}function u(e,n,t,o){var i=n&&n.prototype instanceof p?n:p,a=Object.create(i.prototype),s=new C(o||[]);return r(a,"_invoke",{value:k(e,t,s)}),a}function l(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var d={};function p(){}function f(){}function h(){}var m={};c(m,i,function(){return this});var v=Object.getPrototypeOf,w=v&&v(v(P([])));w&&w!==n&&t.call(w,i)&&(m=w);var g=h.prototype=p.prototype=Object.create(m);function y(e){["next","throw","return"].forEach(function(n){c(e,n,function(e){return this._invoke(n,e)})})}function b(e,n){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&t.call(d,"__await")?n.resolve(d.__await).then(function(e){o("next",e,a,s)},function(e){o("throw",e,a,s)}):n.resolve(d).then(function(e){u.value=e,a(u)},function(e){return o("throw",e,a,s)})}s(c.arg)}var i;r(this,"_invoke",{value:function(e,t){function r(){return new n(function(n,r){o(e,t,n,r)})}return i=i?i.then(r,r):r()}})}function k(e,n,t){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(t.method=o,t.arg=i;;){var a=t.delegate;if(a){var s=x(a,t);if(s){if(s===d)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var c=l(e,n,t);if("normal"===c.type){if(r=t.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:t.done}}"throw"===c.type&&(r="completed",t.method="throw",t.arg=c.arg)}}}function x(e,n){var t=e.iterator[n.method];if(void 0===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,x(e,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=l(t,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function S(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(t.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===f||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(n,t,r,o,i){void 0===i&&(i=Promise);var a=new b(u(n,t,r,o),i);return e.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},y(g),c(g,s,"Generator"),c(g,i,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=t.call(i,"catchLoc"),c=t.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&t.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),d},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),d}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var o=r.arg;T(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:P(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),d}},e}(self.webpackChunkofb_dashboard=self.webpackChunkofb_dashboard||[]).push([[6597],{26597:function(tr,or,ar){var ur;ar.r(or),ar.d(or,{AppKitModal:function(){return Va},W3mListWallet:function(){return Xa},W3mModal:function(){return Ka},W3mModalBase:function(){return qa},W3mRouterContainer:function(){return es},W3mUsageExceededView:function(){return Ha}});var dr=ar(8239),fr=ar(14350),wr=ar(72418),gr=ar(73797),yr=ar(32628),Sr=ar(22167),Tr=ar(63908),Cr=ar(27297),Pr=ar(91951),Ar=ar(40378),Ir=ar(7551),Er=ar(69419),Nr={isUnsupportedChainView:function(){return"UnsupportedChain"===Ar.P.state.view||"SwitchNetwork"===Ar.P.state.view&&Ar.P.state.history.includes("UnsupportedChain")},safeClose:function(){var e=this;return(0,dr.Z)(xr().mark(function n(){return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=e.isUnsupportedChainView(),n.t0){n.next=5;break}return n.next=4,Er.w.isSIWXCloseDisabled();case 4:n.t0=n.sent;case 5:if(!n.t0){n.next=9;break}Sr.I.shake(),n.next=10;break;case 9:("DataCapture"===Ar.P.state.view||"DataCaptureOtpConfirm"===Ar.P.state.view)&&Ir.l.disconnect(),Sr.I.close();case 10:case"end":return n.stop()}},n)}))()}},Rr=ar(50039),Or=ar(56152),Br=ar(23250),jr=ar(31254),_r=ar(86482),Dr=ar(72290),Lr=ar(3628),Ur=ar(56276),Wr=ar(71166),zr=ar(28153),Fr=ar(53574),Mr=ar(44926),qr={getGasPriceInEther:function(e,n){return Number(n*e)/1e18},getGasPriceInUSD:function(e,n,t){var r=qr.getGasPriceInEther(n,t);return _r.C.bigNumber(e).times(r).toNumber()},getPriceImpact:function(e){var n=e.sourceTokenAmount,t=e.sourceTokenPriceInUSD,r=e.toTokenPriceInUSD,o=e.toTokenAmount,i=_r.C.bigNumber(n).times(t),a=_r.C.bigNumber(o).times(r);return i.minus(a).div(i).times(100).toNumber()},getMaxSlippage:function(e,n){var t=_r.C.bigNumber(e).div(100);return _r.C.multiply(n,t).toNumber()},getProviderFee:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.0085;return _r.C.bigNumber(e).times(n).toString()},isInsufficientNetworkTokenForGas:function(e,n){var t=n||"0";return!!_r.C.bigNumber(e).eq(0)||_r.C.bigNumber(_r.C.bigNumber(t)).gt(e)},isInsufficientSourceTokenForSwap:function(e,n,t){var r,o,i=null==t||null===(r=t.find(function(e){return e.address===n}))||void 0===r||null===(o=r.quantity)||void 0===o?void 0:o.numeric;return _r.C.bigNumber(i||"0").lt(e)}},Kr=ar(79781),Vr=ar(9483),Gr=ar(71848),Hr=ar(68886);Error;var Qr={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,switchingTokens:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:zr.bq.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},Yr=(0,Br.sj)(br({},Qr)),Zr={state:Yr,subscribe:function(e){return(0,Br.Ld)(Yr,function(){return e(Yr)})},subscribeKey:function(e,n){return(0,jr.VW)(Yr,e,n)},getParams:function(){var e,n,t,r,o,i,a,s,c,u,l=null!==(e=null===(n=Tr.R.getAccountData(Tr.R.state.activeChain))||void 0===n?void 0:n.caipAddress)&&void 0!==e?e:Tr.R.state.activeCaipAddress,d=Fr.j.getPlainAddress(l),p=(0,Wr.EO)(),f=Cr.A.getConnectorId(Tr.R.state.activeChain);if(!d)throw new Error("No address found to swap the tokens from.");var h=!(null!==(t=Yr.toToken)&&void 0!==t&&t.address&&null!==(r=Yr.toToken)&&void 0!==r&&r.decimals),m=!(null!==(o=Yr.sourceToken)&&void 0!==o&&o.address&&null!==(i=Yr.sourceToken)&&void 0!==i&&i.decimals&&_r.C.bigNumber(Yr.sourceTokenAmount).gt(0)),v=!Yr.sourceTokenAmount;return{networkAddress:p,fromAddress:d,fromCaipAddress:l,sourceTokenAddress:null===(a=Yr.sourceToken)||void 0===a?void 0:a.address,toTokenAddress:null===(s=Yr.toToken)||void 0===s?void 0:s.address,toTokenAmount:Yr.toTokenAmount,toTokenDecimals:null===(c=Yr.toToken)||void 0===c?void 0:c.decimals,sourceTokenAmount:Yr.sourceTokenAmount,sourceTokenDecimals:null===(u=Yr.sourceToken)||void 0===u?void 0:u.decimals,invalidToToken:h,invalidSourceToken:m,invalidSourceTokenAmount:v,availableToSwap:l&&!h&&!m&&!v,isAuthConnector:f===Dr.b.CONNECTOR_ID.AUTH}},setSourceToken:function(e){return(0,dr.Z)(xr().mark(function n(){return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",(Yr.sourceToken=e,Yr.sourceTokenAmount="",void(Yr.sourceTokenPriceInUSD=0)));case 2:return Yr.sourceToken=e,n.next=5,Xr.setTokenPrice(e.address,"sourceToken");case 5:case"end":return n.stop()}},n)}))()},setSourceTokenAmount:function(e){Yr.sourceTokenAmount=e},setToToken:function(e){return(0,dr.Z)(xr().mark(function n(){return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",(Yr.toToken=e,Yr.toTokenAmount="",void(Yr.toTokenPriceInUSD=0)));case 2:return Yr.toToken=e,n.next=5,Xr.setTokenPrice(e.address,"toToken");case 5:case"end":return n.stop()}},n)}))()},setToTokenAmount:function(e){Yr.toTokenAmount=e?_r.C.toFixed(e,6):""},setTokenPrice:function(e,n){return(0,dr.Z)(xr().mark(function t(){var r;return xr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Yr.tokensPriceMap[e]||0,t.t0=r,t.t0){t.next=7;break}return Yr.loadingPrices=!0,t.next=6,Xr.getAddressPrice(e);case 6:r=t.sent;case 7:"sourceToken"===n?Yr.sourceTokenPriceInUSD=r:"toToken"===n&&(Yr.toTokenPriceInUSD=r),Yr.loadingPrices&&(Yr.loadingPrices=!1),Xr.getParams().availableToSwap&&!Yr.switchingTokens&&Xr.swapTokens();case 10:case"end":return t.stop()}},t)}))()},switchTokens:function(){return(0,dr.Z)(xr().mark(function e(){var n,t;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Yr.initializing||!Yr.initialized||Yr.switchingTokens){e.next=17;break}return Yr.switchingTokens=!0,e.prev=2,n=Yr.toToken?br({},Yr.toToken):void 0,t=Yr.sourceToken?br({},Yr.sourceToken):void 0,Xr.setSourceTokenAmount(n&&""===Yr.toTokenAmount?"1":Yr.toTokenAmount),Xr.setToTokenAmount(""),e.next=8,Xr.setSourceToken(n);case 8:return e.next=10,Xr.setToToken(t);case 10:Yr.switchingTokens=!1,Xr.swapTokens(),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(2),Yr.switchingTokens=!1,e.t0;case 17:case"end":return e.stop()}},e,null,[[2,14]])}))()},resetState:function(){Yr.myTokensWithBalance=Qr.myTokensWithBalance,Yr.tokensPriceMap=Qr.tokensPriceMap,Yr.initialized=Qr.initialized,Yr.initializing=Qr.initializing,Yr.switchingTokens=Qr.switchingTokens,Yr.sourceToken=Qr.sourceToken,Yr.sourceTokenAmount=Qr.sourceTokenAmount,Yr.sourceTokenPriceInUSD=Qr.sourceTokenPriceInUSD,Yr.toToken=Qr.toToken,Yr.toTokenAmount=Qr.toTokenAmount,Yr.toTokenPriceInUSD=Qr.toTokenPriceInUSD,Yr.networkPrice=Qr.networkPrice,Yr.networkTokenSymbol=Qr.networkTokenSymbol,Yr.networkBalanceInUSD=Qr.networkBalanceInUSD,Yr.inputError=Qr.inputError},resetValues:function(){var e,n=Xr.getParams().networkAddress,t=null===(e=Yr.tokens)||void 0===e?void 0:e.find(function(e){return e.address===n});Xr.setSourceToken(t),Xr.setToToken(void 0)},getApprovalLoadingState:function(){return Yr.loadingApprovalTransaction},clearError:function(){Yr.transactionError=void 0},initializeState:function(){return(0,dr.Z)(xr().mark(function e(){return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Yr.initializing){e.next=12;break}if(Yr.initializing=!0,Yr.initialized){e.next=11;break}return e.prev=2,e.next=5,Xr.fetchTokens();case 5:Yr.initialized=!0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),Yr.initialized=!1,Or.K.showError("Failed to initialize swap"),Ar.P.goBack();case 11:Yr.initializing=!1;case 12:case"end":return e.stop()}},e,null,[[2,8]])}))()},fetchTokens:function(){return(0,dr.Z)(xr().mark(function e(){var n,t,r,o;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Xr.getParams(),r=t.networkAddress,e.next=3,Xr.getNetworkTokenPrice();case 3:return e.next=5,Xr.getMyTokensWithBalance();case 5:(o=null===(n=Yr.myTokensWithBalance)||void 0===n?void 0:n.find(function(e){return e.address===r}))&&(Yr.networkTokenSymbol=o.symbol,Xr.setSourceToken(o),Xr.setSourceTokenAmount("0"));case 7:case"end":return e.stop()}},e)}))()},getTokenList:function(){return(0,dr.Z)(xr().mark(function e(){var n,t,r,o,i;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Tr.R.state.activeCaipNetwork.caipNetworkId,Yr.caipNetworkId===n&&Yr.tokens){e.next=18;break}return e.prev=2,Yr.tokensLoading=!0,e.next=6,Mr.n.getTokenList(n);case 6:r=e.sent,Yr.tokens=r,Yr.caipNetworkId=n,Yr.popularTokens=r.sort(function(e,n){return e.symbol<n.symbol?-1:e.symbol>n.symbol?1:0}),o=(n&&(null===(t=zr.bq.SUGGESTED_TOKENS_BY_CHAIN)||void 0===t?void 0:t[n])||[]).map(function(e){return r.find(function(n){return n.symbol===e})}).filter(function(e){return Boolean(e)}),i=(zr.bq.SWAP_SUGGESTED_TOKENS||[]).map(function(e){return r.find(function(n){return n.symbol===e})}).filter(function(e){return Boolean(e)}).filter(function(e){return!o.some(function(n){return n.address===e.address})}),Yr.suggestedTokens=[].concat(vr(o),vr(i)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),Yr.tokens=[],Yr.popularTokens=[],Yr.suggestedTokens=[];case 15:return e.prev=15,Yr.tokensLoading=!1,e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}))()},getAddressPrice:function(e){return(0,dr.Z)(xr().mark(function n(){var t,r,o,i,a,s,c,u,l;return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(a=Yr.tokensPriceMap[e])){n.next=3;break}return n.abrupt("return",a);case 3:return n.next=5,Gr.L.fetchTokenPrice({addresses:[e]});case 5:if(n.t2=t=n.sent,n.t1=null===n.t2,n.t1){n.next=9;break}n.t1=void 0===t;case 9:if(!n.t1){n.next=13;break}n.t3=void 0,n.next=14;break;case 13:n.t3=t.fungibles;case 14:if(n.t0=n.t3,n.t0){n.next=17;break}n.t0=[];case 17:return s=n.t0,c=null===(r=[].concat(vr(Yr.tokens||[]),vr(Yr.myTokensWithBalance||[])))||void 0===r||null===(o=r.find(function(n){return n.address===e}))||void 0===o?void 0:o.symbol,u=(null===(i=s.find(function(e){return e.symbol.toLowerCase()===(null==c?void 0:c.toLowerCase())}))||void 0===i?void 0:i.price)||0,l=parseFloat(u.toString()),n.abrupt("return",(Yr.tokensPriceMap[e]=l,l));case 22:case"end":return n.stop()}},n)}))()},getNetworkTokenPrice:function(){return(0,dr.Z)(xr().mark(function e(){var n,t,r,o,i;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Xr.getParams(),r=t.networkAddress,e.next=4,Gr.L.fetchTokenPrice({addresses:[r]}).catch(function(){return Or.K.showError("Failed to fetch network token price"),{fungibles:[]}});case 4:if(e.t1=n=e.sent.fungibles,e.t0=null===e.t1,e.t0){e.next=8;break}e.t0=void 0===n;case 8:if(!e.t0){e.next=12;break}e.t2=void 0,e.next=13;break;case 12:e.t2=n[0];case 13:o=e.t2,i=(null==o?void 0:o.price.toString())||"0",Yr.tokensPriceMap[r]=parseFloat(i),Yr.networkTokenSymbol=(null==o?void 0:o.symbol)||"",Yr.networkPrice=i;case 16:case"end":return e.stop()}},e)}))()},getMyTokensWithBalance:function(e){return(0,dr.Z)(xr().mark(function n(){var t,r,o;return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.Q.getMyTokensWithBalance({forceUpdate:e,caipNetwork:Tr.R.state.activeCaipNetwork,address:null===(t=Tr.R.getAccountData())||void 0===t?void 0:t.address});case 2:if(r=n.sent,o=Mr.n.mapBalancesToSwapTokens(r),n.t0=!o,n.t0){n.next=9;break}return n.next=8,Xr.getInitialGasPrice();case 8:Xr.setBalances(o);case 9:case"end":return n.stop()}},n)}))()},setBalances:function(e){var n=Xr.getParams().networkAddress,t=Tr.R.state.activeCaipNetwork;if(t){var r=e.find(function(e){return e.address===n});e.forEach(function(e){Yr.tokensPriceMap[e.address]=e.price||0}),Yr.myTokensWithBalance=e.filter(function(e){return e.address.startsWith(t.caipNetworkId)}),Yr.networkBalanceInUSD=r?_r.C.multiply(r.quantity.numeric,r.price).toString():"0"}},getInitialGasPrice:function(){return(0,dr.Z)(xr().mark(function e(){var n,t,r,o,i,a,s;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr.n.fetchGasPrice();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",{gasPrice:null,gasPriceInUSD:null});case 5:if(Tr.R.state.activeCaipNetwork.chainNamespace!==Dr.b.CHAIN.SOLANA){e.next=7;break}return e.abrupt("return",(Yr.gasFee=null!==(n=t.standard)&&void 0!==n?n:"0",Yr.gasPriceInUSD=_r.C.multiply(t.standard,Yr.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(Yr.gasFee),gasPriceInUSD:Number(Yr.gasPriceInUSD)}));case 7:return o=null!==(r=t.standard)&&void 0!==r?r:"0",i=BigInt(o),a=BigInt(15e4),s=qr.getGasPriceInUSD(Yr.networkPrice,a,i),e.abrupt("return",(Yr.gasFee=o,Yr.gasPriceInUSD=s,{gasPrice:i,gasPriceInUSD:s}));case 9:case"end":return e.stop()}},e)}))()},swapTokens:function(){return(0,dr.Z)(xr().mark(function e(){var n,t,r,o,i,a,s,c,u,l,d,p;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null===(n=Tr.R.getAccountData())||void 0===n?void 0:n.address,r=Yr.sourceToken,o=Yr.toToken,(i=_r.C.bigNumber(Yr.sourceTokenAmount).gt(0))||Xr.setToTokenAmount(""),o&&r&&!Yr.loadingPrices&&i&&t){e.next=3;break}return e.abrupt("return");case 3:return Yr.loadingQuote=!0,a=_r.C.bigNumber(Yr.sourceTokenAmount).times(Math.pow(10,r.decimals)).round(0).toFixed(0),e.prev=5,e.next=8,Gr.L.fetchSwapQuote({userAddress:t,from:r.address,to:o.address,gasPrice:Yr.gasFee,amount:a.toString()});case 8:if(u=e.sent,Yr.loadingQuote=!1,l=null==u||null===(s=u.quotes)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.toAmount){e.next=13;break}return e.abrupt("return",void Vr.B.open({displayMessage:"Incorrect amount",debugMessage:"Please enter a valid amount"},"error"));case 13:d=_r.C.bigNumber(l).div(Math.pow(10,o.decimals)).toString(),Xr.setToTokenAmount(d),Xr.hasInsufficientToken(Yr.sourceTokenAmount,r.address)?Yr.inputError="Insufficient balance":(Yr.inputError=void 0,Xr.setTransactionDetails()),e.next=23;break;case 17:return e.prev=17,e.t0=e.catch(5),e.next=21,Mr.n.handleSwapError(e.t0);case 21:p=e.sent,Yr.loadingQuote=!1,Yr.inputError=p||"Insufficient balance";case 23:case"end":return e.stop()}},e,null,[[5,17]])}))()},getTransaction:function(){return(0,dr.Z)(xr().mark(function e(){var n,t,r,o,i;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Xr.getParams(),t=n.fromCaipAddress,r=n.availableToSwap,o=Yr.sourceToken,!(t&&r&&o&&Yr.toToken)||Yr.loadingQuote){e.next=24;break}return e.prev=2,Yr.loadingBuildTransaction=!0,e.next=6,Mr.n.fetchSwapAllowance({userAddress:t,tokenAddress:o.address,sourceTokenAmount:Yr.sourceTokenAmount,sourceTokenDecimals:o.decimals});case 6:if(!e.sent){e.next=12;break}return e.next=9,Xr.createSwapTransaction();case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,Xr.createAllowanceTransaction();case 14:e.t0=e.sent;case 15:return i=e.t0,Yr.loadingBuildTransaction=!1,Yr.fetchError=!1,e.abrupt("return",i);case 21:return e.prev=21,e.t1=e.catch(2),e.abrupt("return",(Ar.P.goBack(),Or.K.showError("Failed to check allowance"),Yr.loadingBuildTransaction=!1,Yr.approvalTransaction=void 0,Yr.swapTransaction=void 0,void(Yr.fetchError=!0)));case 24:case"end":return e.stop()}},e,null,[[2,21]])}))()},createAllowanceTransaction:function(){return(0,dr.Z)(xr().mark(function e(){var n,t,r,o,i,a,s;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Xr.getParams(),t=n.fromCaipAddress,r=n.sourceTokenAddress,o=n.toTokenAddress,!t||!o){e.next=18;break}if(r){e.next=4;break}throw new Error("createAllowanceTransaction - No source token address found.");case 4:return e.prev=4,e.next=7,Gr.L.generateApproveCalldata({from:r,to:o,userAddress:t});case 7:if(i=e.sent,a=Fr.j.getPlainAddress(i.tx.from)){e.next=11;break}throw new Error("SwapController:createAllowanceTransaction - address is required");case 11:return s={data:i.tx.data,to:a,gasPrice:BigInt(i.tx.eip155.gasPrice),value:BigInt(i.tx.value),toAmount:Yr.toTokenAmount},e.abrupt("return",(Yr.swapTransaction=void 0,Yr.approvalTransaction={data:s.data,to:s.to,gasPrice:s.gasPrice,value:s.value,toAmount:s.toAmount},{data:s.data,to:s.to,gasPrice:s.gasPrice,value:s.value,toAmount:s.toAmount}));case 15:return e.prev=15,e.t0=e.catch(4),e.abrupt("return",(Ar.P.goBack(),Or.K.showError("Failed to create approval transaction"),Yr.approvalTransaction=void 0,Yr.swapTransaction=void 0,void(Yr.fetchError=!0)));case 18:case"end":return e.stop()}},e,null,[[4,15]])}))()},createSwapTransaction:function(){return(0,dr.Z)(xr().mark(function e(){var n,t,r,o,i,a,s,c,u,l,d,p,f,h;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Xr.getParams(),r=t.networkAddress,o=t.fromCaipAddress,i=t.sourceTokenAmount,a=Yr.sourceToken,s=Yr.toToken,o&&i&&a&&s){e.next=3;break}return e.abrupt("return");case 3:return c=null===(n=Ir.l.parseUnits(i,a.decimals))||void 0===n?void 0:n.toString(),e.prev=4,e.next=7,Gr.L.generateSwapCalldata({userAddress:o,from:a.address,to:s.address,amount:c,disableEstimate:!0});case 7:if(u=e.sent,l=a.address===r,d=BigInt(u.tx.eip155.gas),p=BigInt(u.tx.eip155.gasPrice),f=Fr.j.getPlainAddress(u.tx.to)){e.next=14;break}throw new Error("SwapController:createSwapTransaction - address is required");case 14:return h={data:u.tx.data,to:f,gas:d,gasPrice:p,value:BigInt(l&&null!=c?c:"0"),toAmount:Yr.toTokenAmount},e.abrupt("return",(Yr.gasPriceInUSD=qr.getGasPriceInUSD(Yr.networkPrice,d,p),Yr.approvalTransaction=void 0,Yr.swapTransaction=h,h));case 18:return e.prev=18,e.t0=e.catch(4),e.abrupt("return",(Ar.P.goBack(),Or.K.showError("Failed to create transaction"),Yr.approvalTransaction=void 0,Yr.swapTransaction=void 0,void(Yr.fetchError=!0)));case 21:case"end":return e.stop()}},e,null,[[4,18]])}))()},onEmbeddedWalletApprovalSuccess:function(){Or.K.showLoading("Approve limit increase in your wallet"),Ar.P.replace("SwapPreview")},sendTransactionForApproval:function(e){return(0,dr.Z)(xr().mark(function n(){var t,r,o,i,a,s;return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=Xr.getParams(),r=t.fromAddress,o=t.isAuthConnector,Yr.loadingApprovalTransaction=!0,o?Ar.P.pushTransactionStack({onSuccess:Xr.onEmbeddedWalletApprovalSuccess}):Or.K.showLoading("Approve limit increase in your wallet"),n.prev=2,n.next=5,Ir.l.sendTransaction({address:r,to:e.to,data:e.data,value:e.value,chainNamespace:Dr.b.CHAIN.EVM});case 5:return n.next=7,Xr.swapTokens();case 7:return n.next=9,Xr.getTransaction();case 9:Yr.approvalTransaction=void 0,Yr.loadingApprovalTransaction=!1,n.next=17;break;case 13:n.prev=13,n.t0=n.catch(2),s=n.t0,Yr.transactionError=null==s?void 0:s.displayMessage,Yr.loadingApprovalTransaction=!1,Or.K.showError((null==s?void 0:s.displayMessage)||"Transaction error"),Hr.X.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:(null==s?void 0:s.displayMessage)||(null==s?void 0:s.message)||"Unknown",network:Tr.R.state.activeCaipNetwork.caipNetworkId||"",swapFromToken:(null===(i=Xr.state.sourceToken)||void 0===i?void 0:i.symbol)||"",swapToToken:(null===(a=Xr.state.toToken)||void 0===a?void 0:a.symbol)||"",swapFromAmount:Xr.state.sourceTokenAmount||"",swapToAmount:Xr.state.toTokenAmount||"",isSmartAccount:(0,Wr.r9)(Dr.b.CHAIN.EVM)===Lr.y_.ACCOUNT_TYPES.SMART_ACCOUNT}});case 17:case"end":return n.stop()}},n,null,[[2,13]])}))()},sendTransactionForSwap:function(e){return(0,dr.Z)(xr().mark(function n(){var t,r,o,i,a,s,c,u,l,d,p,f,h,m,v,w,g,y,b;return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return a=Xr.getParams(),s=a.fromAddress,c=a.toTokenAmount,u=a.isAuthConnector,Yr.loadingTransaction=!0,l="Swapping ".concat(null===(t=Yr.sourceToken)||void 0===t?void 0:t.symbol," to ").concat(_r.C.formatNumberToLocalString(c,3)," ").concat(null===(r=Yr.toToken)||void 0===r?void 0:r.symbol),d="Swapped ".concat(null===(o=Yr.sourceToken)||void 0===o?void 0:o.symbol," to ").concat(_r.C.formatNumberToLocalString(c,3)," ").concat(null===(i=Yr.toToken)||void 0===i?void 0:i.symbol),u?Ar.P.pushTransactionStack({onSuccess:function(){Ar.P.replace("Account"),Or.K.showLoading(l),Zr.resetState()}}):Or.K.showLoading("Confirm transaction in your wallet"),n.prev=6,v=[null===(p=Yr.sourceToken)||void 0===p?void 0:p.address,null===(f=Yr.toToken)||void 0===f?void 0:f.address].join(","),n.next=10,Ir.l.sendTransaction({address:s,to:e.to,data:e.data,value:e.value,chainNamespace:Dr.b.CHAIN.EVM});case 10:return w=n.sent,n.abrupt("return",(Yr.loadingTransaction=!1,Or.K.showSuccess(d),Hr.X.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:Tr.R.state.activeCaipNetwork.caipNetworkId||"",swapFromToken:(null===(h=Xr.state.sourceToken)||void 0===h?void 0:h.symbol)||"",swapToToken:(null===(m=Xr.state.toToken)||void 0===m?void 0:m.symbol)||"",swapFromAmount:Xr.state.sourceTokenAmount||"",swapToAmount:Xr.state.toTokenAmount||"",isSmartAccount:(0,Wr.r9)(Dr.b.CHAIN.EVM)===Lr.y_.ACCOUNT_TYPES.SMART_ACCOUNT}}),Zr.resetState(),u||Ar.P.replace("Account"),Zr.getMyTokensWithBalance(v),w));case 14:return n.prev=14,n.t0=n.catch(6),b=n.t0,n.abrupt("return",(Yr.transactionError=null==b?void 0:b.displayMessage,Yr.loadingTransaction=!1,Or.K.showError((null==b?void 0:b.displayMessage)||"Transaction error"),void Hr.X.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:(null==b?void 0:b.displayMessage)||(null==b?void 0:b.message)||"Unknown",network:Tr.R.state.activeCaipNetwork.caipNetworkId||"",swapFromToken:(null===(g=Xr.state.sourceToken)||void 0===g?void 0:g.symbol)||"",swapToToken:(null===(y=Xr.state.toToken)||void 0===y?void 0:y.symbol)||"",swapFromAmount:Xr.state.sourceTokenAmount||"",swapToAmount:Xr.state.toTokenAmount||"",isSmartAccount:(0,Wr.r9)(Dr.b.CHAIN.EVM)===Lr.y_.ACCOUNT_TYPES.SMART_ACCOUNT}})));case 18:case"end":return n.stop()}},n,null,[[6,14]])}))()},hasInsufficientToken:function(e,n){return qr.isInsufficientSourceTokenForSwap(e,n,Yr.myTokensWithBalance)},setTransactionDetails:function(){var e=Xr.getParams(),n=e.toTokenAddress,t=e.toTokenDecimals;!n||!t||(Yr.gasPriceInUSD=qr.getGasPriceInUSD(Yr.networkPrice,BigInt(Yr.gasFee),BigInt(15e4)),Yr.priceImpact=qr.getPriceImpact({sourceTokenAmount:Yr.sourceTokenAmount,sourceTokenPriceInUSD:Yr.sourceTokenPriceInUSD,toTokenPriceInUSD:Yr.toTokenPriceInUSD,toTokenAmount:Yr.toTokenAmount}),Yr.maxSlippage=qr.getMaxSlippage(Yr.slippage,Yr.toTokenAmount),Yr.providerFee=qr.getProviderFee(Yr.sourceTokenAmount))}},Xr=(0,Kr.P)(Zr),$r=ar(86499),Jr=ar(61831),eo=ar(35896),no=ar(17139),to=no.iv(e||(e=mr(["\n  :host {\n    display: block;\n    border-radius: clamp(0px, ",", 44px);\n    box-shadow: 0 0 0 1px ",";\n    overflow: hidden;\n  }\n"])),function(e){return e.borderRadius[8]},function(e){return e.tokens.theme.foregroundPrimary}),ro=function(e){cr(r,e);var t=lr(r);function r(){return ir(this,r),t.apply(this,arguments)}return sr(r,[{key:"render",value:function(){return fr.dy(n||(n=mr(["<slot></slot>"])))}}]),r}(fr.oi);ro.styles=[Jr.ET,to],ro=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a}([(0,eo.M)("wui-card")],ro),ar(48360),ar(13614),ar(13105),ar(13071);var oo=no.iv(t||(t=mr(["\n  :host {\n    width: 100%;\n  }\n\n  :host > wui-flex {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: ",";\n    padding: ",";\n    border-radius: ",";\n    border: 1px solid ",";\n    box-sizing: border-box;\n    background-color: ",";\n    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);\n    color: ",";\n  }\n\n  :host > wui-flex[data-type='info'] {\n    .icon-box {\n      background-color: ",";\n\n      wui-icon {\n        color: ",";\n      }\n    }\n  }\n  :host > wui-flex[data-type='success'] {\n    .icon-box {\n      background-color: ",";\n\n      wui-icon {\n        color: ",";\n      }\n    }\n  }\n  :host > wui-flex[data-type='warning'] {\n    .icon-box {\n      background-color: ",";\n\n      wui-icon {\n        color: ",";\n      }\n    }\n  }\n  :host > wui-flex[data-type='error'] {\n    .icon-box {\n      background-color: ",";\n\n      wui-icon {\n        color: ",";\n      }\n    }\n  }\n\n  wui-flex {\n    width: 100%;\n  }\n\n  wui-text {\n    word-break: break-word;\n    flex: 1;\n  }\n\n  .close {\n    cursor: pointer;\n    color: ",";\n  }\n\n  .icon-box {\n    height: 40px;\n    width: 40px;\n    border-radius: ",";\n    background-color: var(--local-icon-bg-value);\n  }\n"])),function(e){return e.spacing[2]},function(e){return e.spacing[3]},function(e){return e.borderRadius[6]},function(e){return e.tokens.theme.borderPrimary},function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.tokens.theme.textPrimary},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.tokens.theme.iconDefault},function(e){return e.tokens.core.backgroundSuccess},function(e){return e.tokens.core.borderSuccess},function(e){return e.tokens.core.backgroundWarning},function(e){return e.tokens.core.borderWarning},function(e){return e.tokens.core.backgroundError},function(e){return e.tokens.core.borderError},function(e){return e.tokens.theme.iconDefault},function(e){return e.borderRadius[2]}),io=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},ao={info:"info",success:"checkmark",warning:"warningCircle",error:"warning"},so=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.apply(this,arguments)).message="",e.type="info",e}return sr(t,[{key:"render",value:function(){return fr.dy(r||(r=mr(["\n      <wui-flex\n        data-type=",'\n        flexDirection="row"\n        justifyContent="space-between"\n        alignItems="center"\n        gap="2"\n      >\n        <wui-flex columnGap="2" flexDirection="row" alignItems="center">\n          <wui-flex\n            flexDirection="row"\n            alignItems="center"\n            justifyContent="center"\n            class="icon-box"\n          >\n            <wui-icon color="inherit" size="md" name=','></wui-icon>\n          </wui-flex>\n          <wui-text variant="md-medium" color="inherit" data-testid="wui-alertbar-text"\n            >','</wui-text\n          >\n        </wui-flex>\n        <wui-icon\n          class="close"\n          color="inherit"\n          size="sm"\n          name="close"\n          @click=',"\n        ></wui-icon>\n      </wui-flex>\n    "])),(0,gr.o)(this.type),ao[this.type],this.message,this.onClose)}},{key:"onClose",value:function(){Vr.B.close()}}]),t}(fr.oi);so.styles=[Jr.ET,oo],io([(0,wr.Cb)()],so.prototype,"message",void 0),io([(0,wr.Cb)()],so.prototype,"type",void 0),so=io([(0,eo.M)("wui-alertbar")],so);var co=$r.iv(o||(o=mr(["\n  :host {\n    display: block;\n    position: absolute;\n    top: ",";\n    left: ",";\n    right: ",";\n    opacity: 0;\n    pointer-events: none;\n  }\n"])),function(e){return e.spacing[3]},function(e){return e.spacing[4]},function(e){return e.spacing[4]}),uo=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},lo={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"warning"}},po=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.open=Vr.B.state.open,e.onOpen(!0),e.unsubscribe.push(Vr.B.subscribeKey("open",function(n){e.open=n,e.onOpen(!1)})),e}return sr(t,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach(function(e){return e()})}},{key:"render",value:function(){var e=Vr.B.state,n=e.message,t=e.variant,r=lo[t];return fr.dy(i||(i=mr(["\n      <wui-alertbar\n        message=","\n        backgroundColor=","\n        iconColor=","\n        icon=","\n        type=","\n      ></wui-alertbar>\n    "])),n,null==r?void 0:r.backgroundColor,null==r?void 0:r.iconColor,null==r?void 0:r.icon,t)}},{key:"onOpen",value:function(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}}]),t}(fr.oi);po.styles=co,uo([(0,wr.SB)()],po.prototype,"open",void 0),po=uo([(0,$r.Mo)("w3m-alertbar")],po);var fo=ar(14568),ho=ar(92809),mo=no.iv(a||(a=mr(["\n  :host {\n    position: relative;\n  }\n\n  button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: transparent;\n    padding: ",";\n  }\n\n  /* -- Colors --------------------------------------------------- */\n  button[data-type='accent'] wui-icon {\n    color: ",";\n  }\n\n  button[data-type='neutral'][data-variant='primary'] wui-icon {\n    color: ",";\n  }\n\n  button[data-type='neutral'][data-variant='secondary'] wui-icon {\n    color: ",";\n  }\n\n  button[data-type='success'] wui-icon {\n    color: ",";\n  }\n\n  button[data-type='error'] wui-icon {\n    color: ",";\n  }\n\n  /* -- Sizes --------------------------------------------------- */\n  button[data-size='xs'] {\n    width: 16px;\n    height: 16px;\n\n    border-radius: ",";\n  }\n\n  button[data-size='sm'] {\n    width: 20px;\n    height: 20px;\n    border-radius: ",";\n  }\n\n  button[data-size='md'] {\n    width: 24px;\n    height: 24px;\n    border-radius: ",";\n  }\n\n  button[data-size='lg'] {\n    width: 28px;\n    height: 28px;\n    border-radius: ",";\n  }\n\n  button[data-size='xs'] wui-icon {\n    width: 8px;\n    height: 8px;\n  }\n\n  button[data-size='sm'] wui-icon {\n    width: 12px;\n    height: 12px;\n  }\n\n  button[data-size='md'] wui-icon {\n    width: 16px;\n    height: 16px;\n  }\n\n  button[data-size='lg'] wui-icon {\n    width: 20px;\n    height: 20px;\n  }\n\n  /* -- Hover --------------------------------------------------- */\n  @media (hover: hover) {\n    button[data-type='accent']:hover:enabled {\n      background-color: ",";\n    }\n\n    button[data-variant='primary'][data-type='neutral']:hover:enabled {\n      background-color: ",";\n    }\n\n    button[data-variant='secondary'][data-type='neutral']:hover:enabled {\n      background-color: ",";\n    }\n\n    button[data-type='success']:hover:enabled {\n      background-color: ",";\n    }\n\n    button[data-type='error']:hover:enabled {\n      background-color: ",";\n    }\n  }\n\n  /* -- Focus --------------------------------------------------- */\n  button:focus-visible {\n    box-shadow: 0 0 0 4px ",";\n  }\n\n  /* -- Properties --------------------------------------------------- */\n  button[data-full-width='true'] {\n    width: 100%;\n  }\n\n  :host([fullWidth]) {\n    width: 100%;\n  }\n\n  button[disabled] {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"])),function(e){return e.spacing[1]},function(e){return e.tokens.core.iconAccentPrimary},function(e){return e.tokens.theme.iconInverse},function(e){return e.tokens.theme.iconDefault},function(e){return e.tokens.core.iconSuccess},function(e){return e.tokens.core.iconError},function(e){return e.borderRadius[1]},function(e){return e.borderRadius[1]},function(e){return e.borderRadius[2]},function(e){return e.borderRadius[2]},function(e){return e.tokens.core.foregroundAccent010},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.tokens.core.backgroundSuccess},function(e){return e.tokens.core.backgroundError},function(e){return e.tokens.core.foregroundAccent020}),vo=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},wo=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.apply(this,arguments)).icon="card",e.variant="primary",e.type="accent",e.size="md",e.iconSize=void 0,e.fullWidth=!1,e.disabled=!1,e}return sr(t,[{key:"render",value:function(){return fr.dy(s||(s=mr(["<button\n      data-variant=","\n      data-type=","\n      data-size=","\n      data-full-width=","\n      ?disabled=",'\n    >\n      <wui-icon color="inherit" name='," size=","></wui-icon>\n    </button>"])),this.variant,this.type,this.size,this.fullWidth,this.disabled,this.icon,(0,gr.o)(this.iconSize))}}]),t}(fr.oi);wo.styles=[Jr.ET,Jr.ZM,mo],vo([(0,wr.Cb)()],wo.prototype,"icon",void 0),vo([(0,wr.Cb)()],wo.prototype,"variant",void 0),vo([(0,wr.Cb)()],wo.prototype,"type",void 0),vo([(0,wr.Cb)()],wo.prototype,"size",void 0),vo([(0,wr.Cb)()],wo.prototype,"iconSize",void 0),vo([(0,wr.Cb)({type:Boolean})],wo.prototype,"fullWidth",void 0),vo([(0,wr.Cb)({type:Boolean})],wo.prototype,"disabled",void 0),wo=vo([(0,eo.M)("wui-icon-button")],wo),ar(36680);var go=no.iv(c||(c=mr(["\n  button {\n    display: block;\n    display: flex;\n    align-items: center;\n    padding: ",";\n    transition: background-color ","\n      ",";\n    will-change: background-color;\n    border-radius: ",";\n  }\n\n  wui-image {\n    border-radius: 100%;\n  }\n\n  wui-text {\n    padding-left: ",";\n  }\n\n  .left-icon-container,\n  .right-icon-container {\n    width: 24px;\n    height: 24px;\n    justify-content: center;\n    align-items: center;\n  }\n\n  wui-icon {\n    color: ",";\n  }\n\n  /* -- Sizes --------------------------------------------------- */\n  button[data-size='lg'] {\n    height: 32px;\n  }\n\n  button[data-size='md'] {\n    height: 28px;\n  }\n\n  button[data-size='sm'] {\n    height: 24px;\n  }\n\n  button[data-size='lg'] wui-image {\n    width: 24px;\n    height: 24px;\n  }\n\n  button[data-size='md'] wui-image {\n    width: 20px;\n    height: 20px;\n  }\n\n  button[data-size='sm'] wui-image {\n    width: 16px;\n    height: 16px;\n  }\n\n  button[data-size='lg'] .left-icon-container {\n    width: 24px;\n    height: 24px;\n  }\n\n  button[data-size='md'] .left-icon-container {\n    width: 20px;\n    height: 20px;\n  }\n\n  button[data-size='sm'] .left-icon-container {\n    width: 16px;\n    height: 16px;\n  }\n\n  /* -- Variants --------------------------------------------------------- */\n  button[data-type='filled-dropdown'] {\n    background-color: ",";\n  }\n\n  button[data-type='text-dropdown'] {\n    background-color: transparent;\n  }\n\n  /* -- Focus states --------------------------------------------------- */\n  button:focus-visible:enabled {\n    background-color: ",";\n    box-shadow: 0 0 0 4px ",";\n  }\n\n  /* -- Hover & Active states ----------------------------------------------------------- */\n  @media (hover: hover) and (pointer: fine) {\n    button:hover:enabled,\n    button:active:enabled {\n      background-color: ",";\n    }\n  }\n\n  /* -- Disabled states --------------------------------------------------- */\n  button:disabled {\n    background-color: ",";\n    opacity: 0.5;\n  }\n"])),function(e){return e.spacing[1]},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-2"]},function(e){return e.borderRadius[32]},function(e){return e.spacing[1]},function(e){return e.tokens.theme.iconDefault},function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.tokens.core.foregroundAccent040},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.tokens.theme.foregroundSecondary}),yo=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},bo={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},ko={lg:"lg",md:"md",sm:"sm"},xo=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.apply(this,arguments)).imageSrc="",e.text="",e.size="lg",e.type="text-dropdown",e.disabled=!1,e}return sr(t,[{key:"render",value:function(){return fr.dy(u||(u=mr(["<button ?disabled="," data-size="," data-type=",">\n      "," ",'\n      <wui-flex class="right-icon-container">\n        <wui-icon name="chevronBottom"></wui-icon>\n      </wui-flex>\n    </button>'])),this.disabled,this.size,this.type,this.imageTemplate(),this.textTemplate())}},{key:"textTemplate",value:function(){return this.text?fr.dy(l||(l=mr(['<wui-text color="primary" variant=',">","</wui-text>"])),bo[this.size],this.text):null}},{key:"imageTemplate",value:function(){return this.imageSrc?fr.dy(d||(d=mr(["<wui-image src=",' alt="select visual"></wui-image>'])),this.imageSrc):fr.dy(p||(p=mr([' <wui-flex class="left-icon-container">\n      <wui-icon size=',' name="networkPlaceholder"></wui-icon>\n    </wui-flex>'])),ko[this.size])}}]),t}(fr.oi);xo.styles=[Jr.ET,Jr.ZM,go],yo([(0,wr.Cb)()],xo.prototype,"imageSrc",void 0),yo([(0,wr.Cb)()],xo.prototype,"text",void 0),yo([(0,wr.Cb)()],xo.prototype,"size",void 0),yo([(0,wr.Cb)()],xo.prototype,"type",void 0),yo([(0,wr.Cb)({type:Boolean})],xo.prototype,"disabled",void 0),xo=yo([(0,eo.M)("wui-select")],xo),ar(24348),ar(16105);var So={ACCOUNT_TABS:[{label:"Tokens"},{label:"Activity"}],SECURE_SITE_ORIGIN:("undefined"!=typeof process&&void 0!==process.env?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]};ar(60898),ar(59174);var To=no.iv(f||(f=mr(["\n  button {\n    background-color: transparent;\n    padding: ",";\n  }\n\n  button:focus-visible {\n    box-shadow: 0 0 0 4px ",";\n  }\n\n  button[data-variant='accent']:hover:enabled,\n  button[data-variant='accent']:focus-visible {\n    background-color: ",";\n  }\n\n  button[data-variant='primary']:hover:enabled,\n  button[data-variant='primary']:focus-visible,\n  button[data-variant='secondary']:hover:enabled,\n  button[data-variant='secondary']:focus-visible {\n    background-color: ",";\n  }\n\n  button[data-size='xs'] > wui-icon {\n    width: 8px;\n    height: 8px;\n  }\n\n  button[data-size='sm'] > wui-icon {\n    width: 12px;\n    height: 12px;\n  }\n\n  button[data-size='xs'],\n  button[data-size='sm'] {\n    border-radius: ",";\n  }\n\n  button[data-size='md'],\n  button[data-size='lg'] {\n    border-radius: ",";\n  }\n\n  button[data-size='md'] > wui-icon {\n    width: 16px;\n    height: 16px;\n  }\n\n  button[data-size='lg'] > wui-icon {\n    width: 20px;\n    height: 20px;\n  }\n\n  button:disabled {\n    background-color: transparent;\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n\n  button:hover:not(:disabled) {\n    background-color: var(--wui-color-accent-glass-015);\n  }\n\n  button:focus-visible:not(:disabled) {\n    background-color: var(--wui-color-accent-glass-015);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-accent-100),\n      0 0 0 4px var(--wui-color-accent-glass-020);\n  }\n"])),function(e){return e.spacing[1]},function(e){return e.tokens.core.foregroundAccent020},function(e){return e.tokens.core.foregroundAccent010},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.borderRadius[1]},function(e){return e.borderRadius[2]}),Co=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},Po=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.apply(this,arguments)).size="md",e.disabled=!1,e.icon="copy",e.iconColor="default",e.variant="accent",e}return sr(t,[{key:"render",value:function(){return fr.dy(h||(h=mr(["\n      <button data-variant="," ?disabled="," data-size=",">\n        <wui-icon\n          color=","\n          size=","\n          name=","\n        ></wui-icon>\n      </button>\n    "])),this.variant,this.disabled,this.size,{accent:"accent-primary",primary:"inverse",secondary:"default"}[this.variant]||this.iconColor,this.size,this.icon)}}]),t}(fr.oi);Po.styles=[Jr.ET,Jr.ZM,To],Co([(0,wr.Cb)()],Po.prototype,"size",void 0),Co([(0,wr.Cb)({type:Boolean})],Po.prototype,"disabled",void 0),Co([(0,wr.Cb)()],Po.prototype,"icon",void 0),Co([(0,wr.Cb)()],Po.prototype,"iconColor",void 0),Co([(0,wr.Cb)()],Po.prototype,"variant",void 0),Po=Co([(0,eo.M)("wui-icon-link")],Po),ar(13171),ar(64508);var Ao=fr.YP(m||(m=mr(['<svg width="86" height="96" fill="none">\n  <path\n    d="M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z"\n  />\n</svg>']))),Io=ar(56192),Eo=fr.YP(v||(v=mr(['\n  <svg fill="none" viewBox="0 0 36 40">\n    <path\n      d="M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z"\n    />\n  </svg>\n']))),No=no.iv(w||(w=mr(["\n  :host {\n    position: relative;\n    border-radius: inherit;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: var(--local-width);\n    height: var(--local-height);\n  }\n\n  :host([data-round='true']) {\n    background: ",";\n    border-radius: 100%;\n    outline: 1px solid ",";\n  }\n\n  svg {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n  }\n\n  svg > path {\n    stroke: var(--local-stroke);\n  }\n\n  wui-image {\n    width: 100%;\n    height: 100%;\n    -webkit-clip-path: var(--local-path);\n    clip-path: var(--local-path);\n    background: ",";\n  }\n\n  wui-icon {\n    transform: translateY(-5%);\n    width: var(--local-icon-size);\n    height: var(--local-icon-size);\n  }\n"])),function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.tokens.core.glass010},function(e){return e.tokens.theme.foregroundPrimary}),Ro=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},Oo=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.apply(this,arguments)).size="md",e.name="uknown",e.networkImagesBySize={sm:Eo,md:Io.W,lg:Ao},e.selected=!1,e.round=!1,e}return sr(t,[{key:"render",value:function(){return this.round?(this.dataset.round="true",this.style.cssText="\n      --local-width: var(--apkt-spacing-10);\n      --local-height: var(--apkt-spacing-10);\n      --local-icon-size: var(--apkt-spacing-4);\n    "):this.style.cssText="\n\n      --local-path: var(--apkt-path-network-".concat(this.size,");\n      --local-width:  var(--apkt-width-network-").concat(this.size,");\n      --local-height:  var(--apkt-height-network-").concat(this.size,");\n      --local-icon-size:  var(--apkt-spacing-").concat({sm:"4",md:"6",lg:"10"}[this.size],");\n    "),fr.dy(g||(g=mr([""," "," "])),this.templateVisual(),this.svgTemplate())}},{key:"svgTemplate",value:function(){return this.round?null:this.networkImagesBySize[this.size]}},{key:"templateVisual",value:function(){return this.imageSrc?fr.dy(y||(y=mr(["<wui-image src="," alt=","></wui-image>"])),this.imageSrc,this.name):fr.dy(b||(b=mr(['<wui-icon size="inherit" color="default" name="networkPlaceholder"></wui-icon>'])))}}]),t}(fr.oi);Oo.styles=[Jr.ET,No],Ro([(0,wr.Cb)()],Oo.prototype,"size",void 0),Ro([(0,wr.Cb)()],Oo.prototype,"name",void 0),Ro([(0,wr.Cb)({type:Object})],Oo.prototype,"networkImagesBySize",void 0),Ro([(0,wr.Cb)()],Oo.prototype,"imageSrc",void 0),Ro([(0,wr.Cb)({type:Boolean})],Oo.prototype,"selected",void 0),Ro([(0,wr.Cb)({type:Boolean})],Oo.prototype,"round",void 0),Oo=Ro([(0,eo.M)("wui-network-image")],Oo);var Bo=no.iv(k||(k=mr(["\n  :host {\n    position: relative;\n    display: flex;\n    width: 100%;\n    height: 1px;\n    background-color: ",";\n    justify-content: center;\n    align-items: center;\n  }\n\n  :host > wui-text {\n    position: absolute;\n    padding: 0px 8px;\n    transition: background-color ","\n      ",";\n    will-change: background-color;\n  }\n\n  :host([data-bg-color='primary']) > wui-text {\n    background-color: ",";\n  }\n\n  :host([data-bg-color='secondary']) > wui-text {\n    background-color: ",";\n  }\n"])),function(e){return e.tokens.theme.borderPrimary},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-2"]},function(e){return e.tokens.theme.backgroundPrimary},function(e){return e.tokens.theme.foregroundPrimary}),jo=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},_o=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.apply(this,arguments)).text="",e.bgColor="primary",e}return sr(t,[{key:"render",value:function(){return this.dataset.bgColor=this.bgColor,fr.dy(x||(x=mr(["",""])),this.template())}},{key:"template",value:function(){return this.text?fr.dy(S||(S=mr(['<wui-text variant="md-regular" color="secondary">',"</wui-text>"])),this.text):null}}]),t}(fr.oi);_o.styles=[Jr.ET,Bo],jo([(0,wr.Cb)()],_o.prototype,"text",void 0),jo([(0,wr.Cb)()],_o.prototype,"bgColor",void 0),_o=jo([(0,eo.M)("wui-separator")],_o),ar(67013);var Do=ar(32750),Lo=ar(33726),Uo={INVALID_PAYMENT_CONFIG:"Invalid payment configuration",INVALID_RECIPIENT:"Invalid recipient address",INVALID_ASSET:"Invalid asset specified",INVALID_AMOUNT:"Invalid payment amount",INVALID_RECIPIENT_ADDRESS_FOR_ASSET:"Invalid recipient address for the asset selected",UNKNOWN_ERROR:"Unknown payment error occurred",UNABLE_TO_INITIATE_PAYMENT:"Unable to initiate payment",INVALID_CHAIN_NAMESPACE:"Invalid chain namespace",GENERIC_PAYMENT_ERROR:"Unable to process payment",UNABLE_TO_GET_EXCHANGES:"Unable to get exchanges",ASSET_NOT_SUPPORTED:"Asset not supported by the selected exchange",UNABLE_TO_GET_PAY_URL:"Unable to get payment URL",UNABLE_TO_GET_BUY_STATUS:"Unable to get buy status",UNABLE_TO_GET_TOKEN_BALANCES:"Unable to get token balances",UNABLE_TO_GET_QUOTE:"Unable to get quote. Please choose a different token",UNABLE_TO_GET_QUOTE_STATUS:"Unable to get quote status"},Wo=function(e){cr(t,e);var n=lr(t);function t(e,r){var o;return ir(this,t),(o=n.call(this,Uo[e])).name="AppKitPayError",o.code=e,o.details=r,Error.captureStackTrace&&Error.captureStackTrace(pr(o),t),o}return sr(t,[{key:"message",get:function(){return Uo[this.code]}}]),t}(rr(Error)),zo=ar(44329),Fo="reown_test",Mo=ar(64817),qo=ar(65023);function Ko(){return(Ko=(0,dr.Z)(xr().mark(function e(n,t,r){var o,i,a,s,c,u;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===Dr.b.CHAIN.EVM){e.next=2;break}throw new Wo("INVALID_CHAIN_NAMESPACE");case 2:if(r.fromAddress){e.next=4;break}throw new Wo("INVALID_PAYMENT_CONFIG","fromAddress is required for native EVM payments.");case 4:if(s="string"==typeof r.amount?parseFloat(r.amount):r.amount,!isNaN(s)){e.next=7;break}throw new Wo("INVALID_PAYMENT_CONFIG");case 7:if(c=null!==(o=null===(i=n.metadata)||void 0===i?void 0:i.decimals)&&void 0!==o?o:18,"bigint"==typeof(u=Ir.l.parseUnits(s.toString(),c))){e.next=10;break}throw new Wo("GENERIC_PAYMENT_ERROR");case 10:return e.next=12,Ir.l.sendTransaction({chainNamespace:t,to:r.recipient,address:r.fromAddress,value:u,data:"0x"});case 12:if(e.t1=a=e.sent,e.t0=null!==e.t1,!e.t0){e.next=16;break}e.t0=void 0!==a;case 16:if(!e.t0){e.next=20;break}e.t2=a,e.next=21;break;case 20:e.t2=void 0;case 21:return e.abrupt("return",e.t2);case 22:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vo(){return(Vo=(0,dr.Z)(xr().mark(function e(n,t){var r,o,i,a,s;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.fromAddress){e.next=2;break}throw new Wo("INVALID_PAYMENT_CONFIG","fromAddress is required for ERC20 EVM payments.");case 2:if(o=n.asset,i=t.recipient,a=Number(n.metadata.decimals),void 0!==(s=Ir.l.parseUnits(t.amount.toString(),a))){e.next=5;break}throw new Wo("GENERIC_PAYMENT_ERROR");case 5:return e.next=7,Ir.l.writeContract({fromAddress:t.fromAddress,tokenAddress:o,args:[i,s],method:"transfer",abi:Mo.g.getERC20Abi(o),chainNamespace:Dr.b.CHAIN.EVM});case 7:if(e.t1=r=e.sent,e.t0=null!==e.t1,!e.t0){e.next=11;break}e.t0=void 0!==r;case 11:if(!e.t0){e.next=15;break}e.t2=r,e.next=16;break;case 15:e.t2=void 0;case 16:return e.abrupt("return",e.t2);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Go(){return(Go=(0,dr.Z)(xr().mark(function e(n,t){var r,o;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n===Dr.b.CHAIN.SOLANA){e.next=2;break}throw new Wo("INVALID_CHAIN_NAMESPACE");case 2:if(t.fromAddress){e.next=4;break}throw new Wo("INVALID_PAYMENT_CONFIG","fromAddress is required for Solana payments.");case 4:if(r="string"==typeof t.amount?parseFloat(t.amount):t.amount,!(isNaN(r)||r<=0)){e.next=7;break}throw new Wo("INVALID_PAYMENT_CONFIG","Invalid payment amount.");case 7:if(e.prev=7,qo.O.getProvider(n)){e.next=10;break}throw new Wo("GENERIC_PAYMENT_ERROR","No Solana provider available.");case 10:return e.next=12,Ir.l.sendTransaction({chainNamespace:Dr.b.CHAIN.SOLANA,to:t.recipient,value:r,tokenMint:t.tokenMint});case 12:if(o=e.sent){e.next=15;break}throw new Wo("GENERIC_PAYMENT_ERROR","Transaction failed.");case 15:return e.abrupt("return",o);case 18:throw e.prev=18,e.t0=e.catch(7),e.t0 instanceof Wo?e.t0:new Wo("GENERIC_PAYMENT_ERROR","Solana payment failed: ".concat(e.t0));case 21:case"end":return e.stop()}},e,null,[[7,18]])}))).apply(this,arguments)}function Ho(e){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,dr.Z)(function(e){var n=e.sourceToken,t=e.toToken,r=e.amount,o=e.recipient;return xr().mark(function e(){var i,a,s,c,u;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=Ir.l.parseUnits(r,n.metadata.decimals),u=Ir.l.parseUnits(r,t.metadata.decimals),e.abrupt("return",Promise.resolve({type:gi,origin:{amount:null!==(i=null==c?void 0:c.toString())&&void 0!==i?i:"0",currency:n},destination:{amount:null!==(a=null==u?void 0:u.toString())&&void 0!==a?a:"0",currency:t},fees:[{id:"service",label:"Service Fee",amount:"0",currency:t}],steps:[{requestId:gi,type:"deposit",deposit:{amount:null!==(s=null==c?void 0:c.toString())&&void 0!==s?s:"0",currency:n.asset,receiver:o}}],timeInSeconds:6}));case 2:case"end":return e.stop()}},e)})()})).apply(this,arguments)}function Yo(e){if(!e)return null;var n=e.steps[0];return n&&n.type===yi?n:null}function Zo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return[];var t=e.steps.filter(function(e){return e.type===bi}),r=t.filter(function(e,t){return t+1>n});return t.length>0&&t.length<3?r:[]}var Xo=new zo.V({baseUrl:Fr.j.getApiUrl(),clientId:null}),$o=function(e){cr(t,e);var n=lr(t);function t(){return ir(this,t),n.apply(this,arguments)}return sr(t)}(rr(Error));function Jo(){return"https://rpc.walletconnect.org/v1/json-rpc?projectId=".concat(yr.h.getSnapshot().projectId)}function ei(){var e=yr.h.state;return{projectId:e.projectId,st:e.sdkType||"appkit",sv:e.sdkVersion||"html-wagmi-4.2.2"}}function ni(e,n){return ti.apply(this,arguments)}function ti(){return(ti=(0,dr.Z)(xr().mark(function e(n,t){var r,o,i,a,s,c,u;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jo(),o=yr.h.getSnapshot(),i=o.sdkType,a=o.sdkVersion,s=o.projectId,c={jsonrpc:"2.0",id:1,method:n,params:br(br({},t||{}),{},{st:i,sv:a,projectId:s})},e.next=8,fetch(r,{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 8:return e.next=10,e.sent.json();case 10:if(!(u=e.sent).error){e.next=13;break}throw new $o(u.error.message);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ri(e){return oi.apply(this,arguments)}function oi(){return(oi=(0,dr.Z)(xr().mark(function e(n){return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ni("reown_getExchanges",n);case 2:return e.abrupt("return",e.sent.result);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ii(e){return ai.apply(this,arguments)}function ai(){return(ai=(0,dr.Z)(xr().mark(function e(n){return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ni("reown_getExchangePayUrl",n);case 2:return e.abrupt("return",e.sent.result);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function si(){return(si=(0,dr.Z)(xr().mark(function e(n){return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ni("reown_getExchangeBuyStatus",n);case 2:return e.abrupt("return",e.sent.result);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ci(e){return ui.apply(this,arguments)}function ui(){return(ui=(0,dr.Z)(xr().mark(function e(n){var t,r,o,i,a,s,c,u,l;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=_r.C.bigNumber(n.amount).times(Math.pow(10,n.toToken.metadata.decimals)).toString(),r=Do.u.parseCaipNetworkId(n.sourceToken.network),o=r.chainId,i=r.chainNamespace,a=Do.u.parseCaipNetworkId(n.toToken.network),s=a.chainId,c=a.chainNamespace,u="native"===n.sourceToken.asset?(0,Wr.rG)(i):n.sourceToken.asset,l="native"===n.toToken.asset?(0,Wr.rG)(c):n.toToken.asset,e.next=3,Xo.post({path:"/appkit/v1/transfers/quote",body:{user:n.address,originChainId:o.toString(),originCurrency:u,destinationChainId:s.toString(),destinationCurrency:l,recipient:n.recipient,amount:t},params:ei()});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function li(){return(li=(0,dr.Z)(xr().mark(function e(n){var t,r;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Lo.g.isLowerCaseMatch(n.sourceToken.network,n.toToken.network),r=Lo.g.isLowerCaseMatch(n.sourceToken.asset,n.toToken.asset),e.abrupt("return",t&&r?Ho(n):ci(n));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function di(){return(di=(0,dr.Z)(xr().mark(function e(n){return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo.get({path:"/appkit/v1/transfers/status",params:br({requestId:n.requestId},ei())});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pi(){return(pi=(0,dr.Z)(xr().mark(function e(n){return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo.get({path:"/appkit/v1/transfers/assets/exchanges/".concat(n),params:ei()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var fi=["eip155","solana"],hi={eip155:{native:{assetNamespace:"slip44",assetReference:"60"},defaultTokenNamespace:"erc20"},solana:{native:{assetNamespace:"slip44",assetReference:"501"},defaultTokenNamespace:"token"}};function mi(e,n){var t=Do.u.parseCaipNetworkId(e),r=t.chainNamespace,o=t.chainId,i=hi[r];if(!i)throw new Error("Unsupported chain namespace for CAIP-19 formatting: ".concat(r));var a=i.native.assetNamespace,s=i.native.assetReference;return"native"!==n&&(a=i.defaultTokenNamespace,s=n),"".concat(r,":").concat(o,"/").concat(a,":").concat(s)}function vi(e){var n=_r.C.bigNumber(e,{safe:!0});return n.lt(.001)?"<0.001":n.round(4).toString()}var wi="unknown",gi="direct-transfer",yi="deposit",bi="transaction",ki=(0,Br.sj)({paymentAsset:{network:"eip155:1",asset:"0x0",metadata:{name:"0x0",symbol:"0x0",decimals:0}},recipient:"0x0",amount:0,isConfigured:!1,error:null,isPaymentInProgress:!1,exchanges:[],isLoading:!1,openInNewTab:!0,redirectUrl:void 0,payWithExchange:void 0,currentPayment:void 0,analyticsSet:!1,paymentId:void 0,choice:"pay",tokenBalances:(ur={},kr(ur,Dr.b.CHAIN.EVM,[]),kr(ur,Dr.b.CHAIN.SOLANA,[]),ur),isFetchingTokenBalances:!1,selectedPaymentAsset:null,quote:void 0,quoteStatus:"waiting",quoteError:null,isFetchingQuote:!1,selectedExchange:void 0,exchangeUrlForQuote:void 0,requestId:void 0}),xi={state:ki,subscribe:function(e){return(0,Br.Ld)(ki,function(){return e(ki)})},subscribeKey:function(e,n){return(0,jr.VW)(ki,e,n)},handleOpenPay:function(e){var n=this;return(0,dr.Z)(xr().mark(function t(){return xr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.resetState(),n.setPaymentConfig(e),n.initializeAnalytics(),function(){var e=Do.u.parseCaipNetworkId(xi.state.paymentAsset.network).chainNamespace;if(!Fr.j.isAddress(xi.state.recipient,e))throw new Wo("INVALID_RECIPIENT_ADDRESS_FOR_ASSET",'Provide valid recipient address for namespace "'.concat(e,'"'))}(),t.next=6,n.prepareTokenLogo();case 6:return ki.isConfigured=!0,Hr.X.sendEvent({type:"track",event:"PAY_MODAL_OPEN",properties:{exchanges:ki.exchanges,configuration:{network:ki.paymentAsset.network,asset:ki.paymentAsset.asset,recipient:ki.recipient,amount:ki.amount}}}),t.next=10,Sr.I.open({view:"Pay"});case 10:case"end":return t.stop()}},t)}))()},resetState:function(){ki.paymentAsset={network:"eip155:1",asset:"0x0",metadata:{name:"0x0",symbol:"0x0",decimals:0}},ki.recipient="0x0",ki.amount=0,ki.isConfigured=!1,ki.error=null,ki.isPaymentInProgress=!1,ki.isLoading=!1,ki.currentPayment=void 0,ki.selectedExchange=void 0,ki.exchangeUrlForQuote=void 0,ki.requestId=void 0},resetQuoteState:function(){ki.quote=void 0,ki.quoteStatus="waiting",ki.quoteError=null,ki.isFetchingQuote=!1,ki.requestId=void 0},setPaymentConfig:function(e){if(!e.paymentAsset)throw new Wo("INVALID_PAYMENT_CONFIG");try{var n,t;ki.choice=null!==(n=e.choice)&&void 0!==n?n:"pay",ki.paymentAsset=e.paymentAsset,ki.recipient=e.recipient,ki.amount=e.amount,ki.openInNewTab=null===(t=e.openInNewTab)||void 0===t||t,ki.redirectUrl=e.redirectUrl,ki.payWithExchange=e.payWithExchange,ki.error=null}catch(r){throw new Wo("INVALID_PAYMENT_CONFIG",r.message)}},setSelectedPaymentAsset:function(e){ki.selectedPaymentAsset=e},setSelectedExchange:function(e){ki.selectedExchange=e},setRequestId:function(e){ki.requestId=e},setPaymentInProgress:function(e){ki.isPaymentInProgress=e},getPaymentAsset:function(){return ki.paymentAsset},getExchanges:function(){return ki.exchanges},fetchExchanges:function(){return(0,dr.Z)(xr().mark(function e(){var n;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ki.isLoading=!0,e.next=4,ri({page:0});case 4:n=e.sent,ki.exchanges=n.exchanges.slice(0,2),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),Or.K.showError(Uo.UNABLE_TO_GET_EXCHANGES),new Wo("UNABLE_TO_GET_EXCHANGES");case 11:return e.prev=11,ki.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}))()},getAvailableExchanges:function(e){return(0,dr.Z)(xr().mark(function n(){var t,r,o;return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=null!=e&&e.asset&&null!=e&&e.network?mi(e.network,e.asset):void 0,n.next=4,ri({page:null!==(t=null==e?void 0:e.page)&&void 0!==t?t:0,asset:o,amount:null==e||null===(r=e.amount)||void 0===r?void 0:r.toString()});case 4:return n.abrupt("return",n.sent);case 7:throw n.prev=7,n.t0=n.catch(0),new Wo("UNABLE_TO_GET_EXCHANGES");case 10:case"end":return n.stop()}},n,null,[[0,7]])}))()},getPayUrl:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;return(0,dr.Z)(xr().mark(function o(){var i,a;return xr().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,i=Number(n.amount),o.next=4,ii({exchangeId:e,asset:mi(n.network,n.asset),amount:i.toString(),recipient:"".concat(n.network,":").concat(n.recipient)});case 4:return a=o.sent,o.abrupt("return",(Hr.X.sendEvent({type:"track",event:"PAY_EXCHANGE_SELECTED",properties:{source:"pay",exchange:{id:e},configuration:{network:n.network,asset:n.asset,recipient:n.recipient,amount:i},currentPayment:{type:"exchange",exchangeId:e},headless:t}}),t&&(r.initiatePayment(),Hr.X.sendEvent({type:"track",event:"PAY_INITIATED",properties:{source:"pay",paymentId:ki.paymentId||wi,configuration:{network:n.network,asset:n.asset,recipient:n.recipient,amount:i},currentPayment:{type:"exchange",exchangeId:e}}})),a));case 8:throw o.prev=8,o.t0=o.catch(0),o.t0 instanceof Error&&o.t0.message.includes("is not supported")?new Wo("ASSET_NOT_SUPPORTED"):new Error(o.t0.message);case 11:case"end":return o.stop()}},o,null,[[0,8]])}))()},generateExchangeUrlForQuote:function(e){var n=e.exchangeId,t=e.paymentAsset,r=e.amount,o=e.recipient;return(0,dr.Z)(xr().mark(function e(){var i;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ii({exchangeId:n,asset:mi(t.network,t.asset),amount:r.toString(),recipient:o});case 2:i=e.sent,ki.exchangeSessionId=i.sessionId,ki.exchangeUrlForQuote=i.url;case 4:case"end":return e.stop()}},e)}))()},openPayUrl:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;return(0,dr.Z)(xr().mark(function o(){var i,a;return xr().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,r.getPayUrl(e.exchangeId,n,t);case 3:if(a=o.sent){o.next=6;break}throw new Wo("UNABLE_TO_GET_PAY_URL");case 6:return o.abrupt("return",(Fr.j.openHref(a.url,null===(i=e.openInNewTab)||void 0===i||i?"_blank":"_self"),a));case 9:throw o.prev=9,o.t0=o.catch(0),ki.error=o.t0 instanceof Wo?o.t0.message:Uo.GENERIC_PAYMENT_ERROR,new Wo("UNABLE_TO_GET_PAY_URL");case 12:case"end":return o.stop()}},o,null,[[0,9]])}))()},onTransfer:function(e){var n=e.chainNamespace,t=e.fromAddress,r=e.toAddress,o=e.amount,i=e.paymentAsset,a=this;return(0,dr.Z)(xr().mark(function e(){var s,c;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ki.currentPayment={type:"wallet",status:"IN_PROGRESS"},ki.isPaymentInProgress){e.next=39;break}if(e.prev=1,a.initiatePayment(),c=Tr.R.getAllRequestedCaipNetworks().find(function(e){return e.caipNetworkId===i.network}),c){e.next=6;break}throw new Error("Target network not found");case 6:if(e.t1=Lo.g.isLowerCaseMatch(null===(s=Tr.R.state.activeCaipNetwork)||void 0===s?void 0:s.caipNetworkId,c.caipNetworkId),e.t1){e.next=10;break}return e.next=10,Tr.R.switchActiveNetwork(c);case 10:e.t0=n,e.next=e.t0===Dr.b.CHAIN.EVM?13:e.t0===Dr.b.CHAIN.SOLANA?25:30;break;case 13:if(e.t2="native"===i.asset,!e.t2){e.next=18;break}return e.next=17,function(e,n,t){return Ko.apply(this,arguments)}(i,n,{recipient:r,amount:o,fromAddress:t});case 17:ki.currentPayment.result=e.sent;case 18:if(e.t3=i.asset.startsWith("0x"),!e.t3){e.next=23;break}return e.next=22,function(e,n){return Vo.apply(this,arguments)}(i,{recipient:r,amount:o,fromAddress:t});case 22:ki.currentPayment.result=e.sent;case 23:return ki.currentPayment.status="SUCCESS",e.abrupt("break",31);case 25:return e.next=27,function(e,n){return Go.apply(this,arguments)}(n,{recipient:r,amount:o,fromAddress:t,tokenMint:"native"===i.asset?void 0:i.asset});case 27:return ki.currentPayment.result=e.sent,ki.currentPayment.status="SUCCESS",e.abrupt("break",31);case 30:throw new Wo("INVALID_CHAIN_NAMESPACE");case 31:e.next=36;break;case 33:throw e.prev=33,e.t4=e.catch(1),ki.error=e.t4 instanceof Wo?e.t4.message:Uo.GENERIC_PAYMENT_ERROR,ki.currentPayment.status="FAILED",Or.K.showError(ki.error),e.t4;case 36:return e.prev=36,ki.isPaymentInProgress=!1,e.finish(36);case 39:case"end":return e.stop()}},e,null,[[1,33,36,39]])}))()},onSendTransaction:function(e){return(0,dr.Z)(xr().mark(function n(){var t,r,o,i,a,s,c,u,l,d;return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=e.namespace,o=e.transactionStep,xi.initiatePayment(),i=Tr.R.getAllRequestedCaipNetworks().find(function(e){var n;return e.caipNetworkId===(null===(n=ki.paymentAsset)||void 0===n?void 0:n.network)}),i){n.next=6;break}throw new Error("Target network not found");case 6:if(n.t0=Lo.g.isLowerCaseMatch(null===(t=Tr.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId,i.caipNetworkId),n.t0){n.next=10;break}return n.next=10,Tr.R.switchActiveNetwork(i);case 10:if(r!==Dr.b.CHAIN.EVM){n.next=16;break}return a=o.transaction,s=a.from,c=a.to,u=a.data,l=a.value,n.next=14,Ir.l.sendTransaction({address:s,to:c,data:u,value:BigInt(l),chainNamespace:r});case 14:n.next=20;break;case 16:if(r!==Dr.b.CHAIN.SOLANA){n.next=20;break}return d=o.transaction.instructions,n.next=20,Ir.l.writeSolanaTransaction({instructions:d});case 20:n.next=25;break;case 22:throw n.prev=22,n.t1=n.catch(0),ki.error=n.t1 instanceof Wo?n.t1.message:Uo.GENERIC_PAYMENT_ERROR,Or.K.showError(ki.error),n.t1;case 25:return n.prev=25,ki.isPaymentInProgress=!1,n.finish(25);case 28:case"end":return n.stop()}},n,null,[[0,22,25,28]])}))()},getExchangeById:function(e){return ki.exchanges.find(function(n){return n.id===e})},validatePayConfig:function(e){var n=e.paymentAsset,t=e.recipient,r=e.amount;if(!n)throw new Wo("INVALID_PAYMENT_CONFIG");if(!t)throw new Wo("INVALID_RECIPIENT");if(!n.asset)throw new Wo("INVALID_ASSET");if(null==r||r<=0)throw new Wo("INVALID_AMOUNT")},handlePayWithExchange:function(e){var n=this;return(0,dr.Z)(xr().mark(function t(){var r,o,i,a,s;return xr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,ki.currentPayment={type:"exchange",exchangeId:e},r=ki.paymentAsset,o=r.network,i=r.asset,a={network:o,asset:i,amount:ki.amount,recipient:ki.recipient},t.next=8,n.getPayUrl(e,a);case 8:if(s=t.sent){t.next=11;break}throw new Wo("UNABLE_TO_INITIATE_PAYMENT");case 11:return t.abrupt("return",(ki.currentPayment.sessionId=s.sessionId,ki.currentPayment.status="IN_PROGRESS",ki.currentPayment.exchangeId=e,n.initiatePayment(),{url:s.url,openInNewTab:ki.openInNewTab}));case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",(ki.error=t.t0 instanceof Wo?t.t0.message:Uo.GENERIC_PAYMENT_ERROR,ki.isPaymentInProgress=!1,Or.K.showError(ki.error),null));case 17:case"end":return t.stop()}},t,null,[[0,14]])}))()},getBuyStatus:function(e,n){return(0,dr.Z)(xr().mark(function t(){var r,o,i;return xr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,function(e){return si.apply(this,arguments)}({sessionId:n,exchangeId:e});case 3:return i=t.sent,t.abrupt("return",(("SUCCESS"===i.status||"FAILED"===i.status)&&Hr.X.sendEvent({type:"track",event:"SUCCESS"===i.status?"PAY_SUCCESS":"PAY_ERROR",properties:{message:"FAILED"===i.status?Fr.j.parseError(ki.error):void 0,source:"pay",paymentId:ki.paymentId||wi,configuration:{network:ki.paymentAsset.network,asset:ki.paymentAsset.asset,recipient:ki.recipient,amount:ki.amount},currentPayment:{type:"exchange",exchangeId:null===(r=ki.currentPayment)||void 0===r?void 0:r.exchangeId,sessionId:null===(o=ki.currentPayment)||void 0===o?void 0:o.sessionId,result:i.txHash}}}),i));case 7:throw t.prev=7,t.t0=t.catch(0),new Wo("UNABLE_TO_GET_BUY_STATUS");case 10:case"end":return t.stop()}},t,null,[[0,7]])}))()},fetchTokensFromEOA:function(e){var n=e.caipAddress,t=e.caipNetwork,r=e.namespace;return(0,dr.Z)(xr().mark(function e(){var o,i,a;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",[]);case 2:return o=Do.u.parseCaipAddress(n),i=o.address,a=t,r===Dr.b.CHAIN.EVM&&(a=void 0),e.next=7,Ur.Q.getMyTokensWithBalance({address:i,caipNetwork:a});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}))()},fetchTokensFromExchange:function(){return(0,dr.Z)(xr().mark(function e(){var n,t;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ki.selectedExchange){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,function(e){return pi.apply(this,arguments)}(ki.selectedExchange.id);case 4:return n=e.sent,t=Object.values(n.assets).flat(),e.next=8,Promise.all(t.map(function(){var e=(0,dr.Z)(xr().mark(function e(n){var t,r,o,i,a,s,c,u;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){return{chainId:e.network,address:"".concat(e.network,":").concat(e.asset),symbol:e.metadata.symbol,name:e.metadata.name,iconUrl:e.metadata.logoURI||"",price:0,quantity:{numeric:"0",decimals:e.metadata.decimals.toString()}}}(n),o=Do.u.parseCaipNetworkId(r.chainId),i=o.chainNamespace,a=r.address,Fr.j.isCaipAddress(a)&&(s=Do.u.parseCaipAddress(a),c=s.address,a=c),e.next=5,fo.f.getImageByToken(null!==(t=a)&&void 0!==t?t:"",i).catch(function(){});case 5:return u=e.sent,e.abrupt("return",(r.iconUrl=null!=u?u:"",r));case 7:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}))()},fetchTokens:function(e){var n=e.caipAddress,t=e.caipNetwork,r=e.namespace,o=this;return(0,dr.Z)(xr().mark(function e(){var i,a;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ki.isFetchingTokenBalances=!0,e.next=4,Boolean(ki.selectedExchange)?o.fetchTokensFromExchange():o.fetchTokensFromEOA({caipAddress:n,caipNetwork:t,namespace:r});case 4:i=e.sent,ki.tokenBalances=br(br({},ki.tokenBalances),{},kr({},r,i)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),a=e.t0 instanceof Error?e.t0.message:"Unable to get token balances",Or.K.showError(a);case 12:return e.prev=12,ki.isFetchingTokenBalances=!1,e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,8,12,15]])}))()},fetchQuote:function(e){var n=e.amount,t=e.address,r=e.sourceToken,o=e.toToken,i=e.recipient;return(0,dr.Z)(xr().mark(function e(){var a,s,c,u,l,d,p;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,xi.resetQuoteState(),ki.isFetchingQuote=!0,e.next=4,function(e){return li.apply(this,arguments)}({amount:n,address:ki.selectedExchange?void 0:t,sourceToken:r,toToken:o,recipient:i});case 4:if(a=e.sent,!ki.selectedExchange){e.next=11;break}if(!(s=Yo(a))){e.next=11;break}return u="".concat(r.network,":").concat(s.deposit.receiver),l=_r.C.formatNumber(s.deposit.amount,{decimals:null!==(c=r.metadata.decimals)&&void 0!==c?c:0,round:8}),e.next=11,xi.generateExchangeUrlForQuote({exchangeId:ki.selectedExchange.id,paymentAsset:r,amount:l.toString(),recipient:u});case 11:ki.quote=a,e.next=28;break;case 14:if(e.prev=14,e.t0=e.catch(0),d=Uo.UNABLE_TO_GET_QUOTE,!(e.t0 instanceof Error&&e.t0.cause&&e.t0.cause instanceof Response)){e.next=27;break}return e.prev=18,e.next=21,e.t0.cause.json();case 21:(p=e.sent).error&&"string"==typeof p.error&&(d=p.error),e.next=27;break;case 25:e.prev=25,e.t1=e.catch(18);case 27:throw ki.quoteError=d,Or.K.showError(d),new Wo("UNABLE_TO_GET_QUOTE");case 28:return e.prev=28,ki.isFetchingQuote=!1,e.finish(28);case 31:case"end":return e.stop()}},e,null,[[0,14,28,31],[18,25]])}))()},fetchQuoteStatus:function(e){var n=e.requestId,t=this;return(0,dr.Z)(xr().mark(function e(){var r,o,i,a;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n!==gi){e.next=16;break}if(r=ki.selectedExchange,o=ki.exchangeSessionId,!r||!o){e.next=15;break}return e.next=6,t.getBuyStatus(r.id,o);case 6:e.t0=e.sent.status,e.next="IN_PROGRESS"===e.t0||"UNKNOWN"===e.t0?9:"SUCCESS"===e.t0?11:"FAILED"===e.t0?13:9;break;case 9:return ki.quoteStatus="waiting",e.abrupt("break",14);case 11:return ki.quoteStatus="success",ki.isPaymentInProgress=!1,e.abrupt("break",14);case 13:ki.quoteStatus="failure",ki.isPaymentInProgress=!1;case 14:return e.abrupt("return");case 15:return e.abrupt("return",void(ki.quoteStatus="success"));case 16:return e.next=18,function(e){return di.apply(this,arguments)}({requestId:n});case 18:i=e.sent,a=i.status,ki.quoteStatus=a,e.next=26;break;case 23:throw e.prev=23,e.t1=e.catch(0),ki.quoteStatus="failure",new Wo("UNABLE_TO_GET_QUOTE_STATUS");case 26:case"end":return e.stop()}},e,null,[[0,23]])}))()},initiatePayment:function(){ki.isPaymentInProgress=!0,ki.paymentId=crypto.randomUUID()},initializeAnalytics:function(){ki.analyticsSet||(ki.analyticsSet=!0,this.subscribeKey("isPaymentInProgress",function(e){var n;(null===(n=ki.currentPayment)||void 0===n?void 0:n.status)&&"UNKNOWN"!==ki.currentPayment.status&&Hr.X.sendEvent({type:"track",event:{IN_PROGRESS:"PAY_INITIATED",SUCCESS:"PAY_SUCCESS",FAILED:"PAY_ERROR"}[ki.currentPayment.status],properties:{message:"FAILED"===ki.currentPayment.status?Fr.j.parseError(ki.error):void 0,source:"pay",paymentId:ki.paymentId||wi,configuration:{network:ki.paymentAsset.network,asset:ki.paymentAsset.asset,recipient:ki.recipient,amount:ki.amount},currentPayment:{type:ki.currentPayment.type,exchangeId:ki.currentPayment.exchangeId,sessionId:ki.currentPayment.sessionId,result:ki.currentPayment.result}}})}))},prepareTokenLogo:function(){return(0,dr.Z)(xr().mark(function e(){var n,t,r;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ki.paymentAsset.metadata.logoURI){e.next=12;break}return e.prev=1,n=Do.u.parseCaipNetworkId(ki.paymentAsset.network),t=n.chainNamespace,e.next=6,fo.f.getImageByToken(ki.paymentAsset.asset,t);case 6:r=e.sent,ki.paymentAsset.metadata.logoURI=r,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}},e,null,[[1,10]])}))()}},Si=$r.iv(T||(T=mr(["\n  wui-separator {\n    margin: var(--apkt-spacing-3) calc(var(--apkt-spacing-3) * -1) var(--apkt-spacing-2)\n      calc(var(--apkt-spacing-3) * -1);\n    width: calc(100% + var(--apkt-spacing-3) * 2);\n  }\n\n  .token-display {\n    padding: var(--apkt-spacing-3) var(--apkt-spacing-3);\n    border-radius: var(--apkt-borderRadius-5);\n    background-color: var(--apkt-tokens-theme-backgroundPrimary);\n    margin-top: var(--apkt-spacing-3);\n    margin-bottom: var(--apkt-spacing-3);\n  }\n\n  .token-display wui-text {\n    text-transform: none;\n  }\n\n  wui-loading-spinner {\n    padding: var(--apkt-spacing-2);\n  }\n\n  .left-image-container {\n    position: relative;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .token-image {\n    border-radius: ",";\n    width: 40px;\n    height: 40px;\n  }\n\n  .chain-image {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    bottom: -3px;\n    right: -5px;\n    border-radius: ",";\n    border: 2px solid ",";\n  }\n\n  .payment-methods-container {\n    background-color: ",";\n    border-top-right-radius: ",";\n    border-top-left-radius: ",";\n  }\n"])),function(e){return e.borderRadius.round},function(e){return e.borderRadius.round},function(e){return e.tokens.theme.backgroundPrimary},function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.borderRadius[8]},function(e){return e.borderRadius[8]}),Ti=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},Ci=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.amount=xi.state.amount,e.namespace=void 0,e.paymentAsset=xi.state.paymentAsset,e.activeConnectorIds=Cr.A.state.activeConnectorIds,e.caipAddress=void 0,e.exchanges=xi.state.exchanges,e.isLoading=xi.state.isLoading,e.initializeNamespace(),e.unsubscribe.push(xi.subscribeKey("amount",function(n){return e.amount=n})),e.unsubscribe.push(Cr.A.subscribeKey("activeConnectorIds",function(n){return e.activeConnectorIds=n})),e.unsubscribe.push(xi.subscribeKey("exchanges",function(n){return e.exchanges=n})),e.unsubscribe.push(xi.subscribeKey("isLoading",function(n){return e.isLoading=n})),xi.fetchExchanges(),xi.setSelectedExchange(void 0),e}return sr(t,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach(function(e){return e()})}},{key:"render",value:function(){return fr.dy(C||(C=mr(['\n      <wui-flex flexDirection="column">\n        '," ","\n      </wui-flex>\n    "])),this.paymentDetailsTemplate(),this.paymentMethodsTemplate())}},{key:"paymentMethodsTemplate",value:function(){return fr.dy(P||(P=mr(['\n      <wui-flex flexDirection="column" padding="3" gap="2" class="payment-methods-container">\n        '," ","\n        ","\n      </wui-flex>\n    "])),this.payWithWalletTemplate(),this.templateSeparator(),this.templateExchangeOptions())}},{key:"initializeNamespace",value:function(){var e,n=this,t=Tr.R.state.activeChain;this.namespace=t,this.caipAddress=null===(e=Tr.R.getAccountData(t))||void 0===e?void 0:e.caipAddress,this.unsubscribe.push(Tr.R.subscribeChainProp("accountState",function(e){n.caipAddress=null==e?void 0:e.caipAddress},t))}},{key:"paymentDetailsTemplate",value:function(){var e=this,n=Tr.R.getAllRequestedCaipNetworks().find(function(n){return n.caipNetworkId===e.paymentAsset.network});return fr.dy(A||(A=mr(['\n      <wui-flex\n        alignItems="center"\n        justifyContent="space-between"\n        .padding=','\n        gap="2"\n      >\n        <wui-flex alignItems="center" gap="1">\n          <wui-text variant="h1-regular" color="primary">\n            ','\n          </wui-text>\n\n          <wui-flex flexDirection="column">\n            <wui-text variant="h6-regular" color="secondary">\n              ','\n            </wui-text>\n            <wui-text variant="md-medium" color="secondary"\n              >on ','</wui-text\n            >\n          </wui-flex>\n        </wui-flex>\n\n        <wui-flex class="left-image-container">\n          <wui-image\n            src=','\n            class="token-image"\n          ></wui-image>\n          <wui-image\n            src=','\n            class="chain-image"\n          ></wui-image>\n        </wui-flex>\n      </wui-flex>\n    '])),["6","8","6","8"],vi(this.amount||"0"),this.paymentAsset.metadata.symbol||"Unknown",(null==n?void 0:n.name)||"Unknown",(0,gr.o)(this.paymentAsset.metadata.logoURI),(0,gr.o)(fo.f.getNetworkImage(n)))}},{key:"payWithWalletTemplate",value:function(){return e=this.paymentAsset.network,n=Do.u.parseCaipNetworkId(e).chainNamespace,fi.includes(n)?this.caipAddress?this.connectedWalletTemplate():this.disconnectedWalletTemplate():fr.dy(I||(I=mr([""])));var e,n}},{key:"connectedWalletTemplate",value:function(){var e=this.getWalletProperties({namespace:this.namespace}),n=e.name,t=e.image;return fr.dy(E||(E=mr(['\n      <wui-flex flexDirection="column" gap="3">\n        <wui-list-item\n          type="secondary"\n          boxColor="foregroundSecondary"\n          @click=',"\n          .boxed=","\n          ?chevron=","\n          ?fullSize=","\n          ?rounded=",'\n          data-testid="wallet-payment-option"\n          imageSrc=','\n          imageSize="3xl"\n        >\n          <wui-text variant="lg-regular" color="primary">Pay with ','</wui-text>\n        </wui-list-item>\n\n        <wui-list-item\n          type="secondary"\n          icon="power"\n          iconColor="error"\n          @click=','\n          data-testid="disconnect-button"\n          ?chevron=','\n          boxColor="foregroundSecondary"\n        >\n          <wui-text variant="lg-regular" color="secondary">Disconnect</wui-text>\n        </wui-list-item>\n      </wui-flex>\n    '])),this.onWalletPayment,!1,!0,!1,!0,(0,gr.o)(t),n,this.onDisconnect,!1)}},{key:"disconnectedWalletTemplate",value:function(){return fr.dy(N||(N=mr(['<wui-list-item\n      type="secondary"\n      boxColor="foregroundSecondary"\n      variant="icon"\n      iconColor="default"\n      iconVariant="overlay"\n      icon="wallet"\n      @click=',"\n      ?chevron=",'\n      data-testid="wallet-payment-option"\n    >\n      <wui-text variant="lg-regular" color="primary">Pay with wallet</wui-text>\n    </wui-list-item>'])),this.onWalletPayment,!0)}},{key:"templateExchangeOptions",value:function(){var e=this;if(this.isLoading)return fr.dy(R||(R=mr(['<wui-flex justifyContent="center" alignItems="center">\n        <wui-loading-spinner size="md"></wui-loading-spinner>\n      </wui-flex>'])));var n=this.exchanges.filter(function(n){return function(e){var n=Tr.R.getAllRequestedCaipNetworks().find(function(n){return n.caipNetworkId===e.network});return!!n&&Boolean(n.testnet)}(e.paymentAsset)?n.id===Fo:n.id!==Fo});return 0===n.length?fr.dy(O||(O=mr(['<wui-flex justifyContent="center" alignItems="center">\n        <wui-text variant="md-medium" color="primary">No exchanges available</wui-text>\n      </wui-flex>']))):n.map(function(n){return fr.dy(B||(B=mr(['\n        <wui-list-item\n          type="secondary"\n          boxColor="foregroundSecondary"\n          @click=','\n          data-testid="exchange-option-','"\n          ?chevron=',"\n          imageSrc=",'\n        >\n          <wui-text flexGrow="1" variant="lg-regular" color="primary">\n            Pay with ',"\n          </wui-text>\n        </wui-list-item>\n      "])),function(){return e.onExchangePayment(n)},n.id,!0,(0,gr.o)(n.imageUrl),n.name)})}},{key:"templateSeparator",value:function(){return fr.dy(j||(j=mr(['<wui-separator text="or" bgColor="secondary"></wui-separator>'])))}},{key:"onWalletPayment",value:function(){var e=this;return(0,dr.Z)(xr().mark(function n(){return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.namespace){n.next=2;break}throw new Error("Namespace not found");case 2:if(!e.caipAddress){n.next=6;break}Ar.P.push("PayQuote"),n.next=10;break;case 6:return n.next=8,Cr.A.connect();case 8:return n.next=10,Sr.I.open({view:"PayQuote"});case 10:case"end":return n.stop()}},n)}))()}},{key:"onExchangePayment",value:function(e){xi.setSelectedExchange(e),Ar.P.push("PayQuote")}},{key:"onDisconnect",value:function(){return(0,dr.Z)(xr().mark(function e(){return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ir.l.disconnect();case 3:return e.next=5,Sr.I.open({view:"Pay"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to disconnect"),Or.K.showError("Failed to disconnect");case 10:case"end":return e.stop()}},e,null,[[0,7]])}))()}},{key:"getWalletProperties",value:function(e){var n=e.namespace;if(!n)return{name:void 0,image:void 0};var t=this.activeConnectorIds[n];if(!t)return{name:void 0,image:void 0};var r=Cr.A.getConnector({id:t,namespace:n});if(!r)return{name:void 0,image:void 0};var o=fo.f.getConnectorImage(r);return{name:r.name,image:o}}}]),t}(fr.oi);Ci.styles=Si,Ti([(0,wr.SB)()],Ci.prototype,"amount",void 0),Ti([(0,wr.SB)()],Ci.prototype,"namespace",void 0),Ti([(0,wr.SB)()],Ci.prototype,"paymentAsset",void 0),Ti([(0,wr.SB)()],Ci.prototype,"activeConnectorIds",void 0),Ti([(0,wr.SB)()],Ci.prototype,"caipAddress",void 0),Ti([(0,wr.SB)()],Ci.prototype,"exchanges",void 0),Ti([(0,wr.SB)()],Ci.prototype,"isLoading",void 0),Ci=Ti([(0,$r.Mo)("w3m-pay-view")],Ci);var Pi=ar(7294),Ai=no.iv(_||(_=mr(["\n  :host {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .pulse-container {\n    position: relative;\n    width: var(--pulse-size);\n    height: var(--pulse-size);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .pulse-rings {\n    position: absolute;\n    inset: 0;\n    pointer-events: none;\n  }\n\n  .pulse-ring {\n    position: absolute;\n    inset: 0;\n    border-radius: 50%;\n    border: 2px solid var(--pulse-color);\n    opacity: 0;\n    animation: pulse var(--pulse-duration, 2s) ease-out infinite;\n  }\n\n  .pulse-content {\n    position: relative;\n    z-index: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  @keyframes pulse {\n    0% {\n      transform: scale(0.5);\n      opacity: var(--pulse-opacity, 0.3);\n    }\n    50% {\n      opacity: calc(var(--pulse-opacity, 0.3) * 0.5);\n    }\n    100% {\n      transform: scale(1.2);\n      opacity: 0;\n    }\n  }\n"]))),Ii=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},Ei={"accent-primary":no.gR.tokens.core.backgroundAccentPrimary},Ni=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.apply(this,arguments)).rings=3,e.duration=2,e.opacity=.3,e.size="200px",e.variant="accent-primary",e}return sr(t,[{key:"render",value:function(){var e=this;this.style.cssText="\n      --pulse-size: ".concat(this.size,";\n      --pulse-duration: ").concat(this.duration,"s;\n      --pulse-color: ").concat(Ei[this.variant],";\n      --pulse-opacity: ").concat(this.opacity,";\n    ");var n=Array.from({length:this.rings},function(n,t){return e.renderRing(t,e.rings)});return fr.dy(D||(D=mr(['\n      <div class="pulse-container">\n        <div class="pulse-rings">','</div>\n        <div class="pulse-content">\n          <slot></slot>\n        </div>\n      </div>\n    '])),n)}},{key:"renderRing",value:function(e,n){return fr.dy(L||(L=mr(['<div class="pulse-ring" style=',"></div>"])),"animation-delay: ".concat(e/n*this.duration,"s;"))}}]),t}(fr.oi);Ni.styles=[Jr.ET,Ai],Ii([(0,wr.Cb)({type:Number})],Ni.prototype,"rings",void 0),Ii([(0,wr.Cb)({type:Number})],Ni.prototype,"duration",void 0),Ii([(0,wr.Cb)({type:Number})],Ni.prototype,"opacity",void 0),Ii([(0,wr.Cb)()],Ni.prototype,"size",void 0),Ii([(0,wr.Cb)()],Ni.prototype,"variant",void 0),Ni=Ii([(0,eo.M)("wui-pulse")],Ni);var Ri=[{id:"received",title:"Receiving funds",icon:"dollar"},{id:"processing",title:"Swapping asset",icon:"recycleHorizontal"},{id:"sending",title:"Sending asset to the recipient address",icon:"send"}],Oi=["success","submitted","failure","timeout","refund"],Bi=$r.iv(U||(U=mr(["\n  :host {\n    display: block;\n    height: 100%;\n    width: 100%;\n  }\n\n  wui-image {\n    border-radius: ",";\n  }\n\n  .token-badge-container {\n    position: absolute;\n    bottom: 6px;\n    left: 50%;\n    transform: translateX(-50%);\n    border-radius: ",";\n    z-index: 3;\n    min-width: 105px;\n  }\n\n  .token-badge-container.loading {\n    background-color: ",";\n    border: 3px solid ",";\n  }\n\n  .token-badge-container.success {\n    background-color: ",";\n    border: 3px solid ",";\n  }\n\n  .token-image-container {\n    position: relative;\n  }\n\n  .token-image {\n    border-radius: ",";\n    width: 64px;\n    height: 64px;\n  }\n\n  .token-image.success {\n    background-color: ",";\n  }\n\n  .token-image.error {\n    background-color: ",";\n  }\n\n  .token-image.loading {\n    background: ",";\n  }\n\n  .token-image wui-icon {\n    width: 32px;\n    height: 32px;\n  }\n\n  .token-badge {\n    background-color: ",";\n    border: 1px solid ",";\n    border-radius: ",";\n  }\n\n  .token-badge wui-text {\n    white-space: nowrap;\n  }\n\n  .payment-lifecycle-container {\n    background-color: ",";\n    border-top-right-radius: ",";\n    border-top-left-radius: ",";\n  }\n\n  .payment-step-badge {\n    padding: "," ",";\n    border-radius: ",";\n  }\n\n  .payment-step-badge.loading {\n    background-color: ",";\n  }\n\n  .payment-step-badge.error {\n    background-color: ",";\n  }\n\n  .payment-step-badge.success {\n    background-color: ",";\n  }\n\n  .step-icon-container {\n    position: relative;\n    height: 40px;\n    width: 40px;\n    border-radius: ",";\n    background-color: ",";\n  }\n\n  .step-icon-box {\n    position: absolute;\n    right: -4px;\n    bottom: -1px;\n    padding: 2px;\n    border-radius: ",";\n    border: 2px solid ",";\n    background-color: ",";\n  }\n\n  .step-icon-box.success {\n    background-color: ",";\n  }\n"])),function(e){return e.borderRadius.round},function(e){return e.borderRadius[4]},function(e){return e.tokens.theme.backgroundPrimary},function(e){return e.tokens.theme.backgroundPrimary},function(e){return e.tokens.theme.backgroundPrimary},function(e){return e.tokens.theme.backgroundPrimary},function(e){return e.borderRadius.round},function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.colors.accent010},function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.borderRadius[4]},function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.borderRadius[6]},function(e){return e.borderRadius[6]},function(e){return e.spacing[1]},function(e){return e.spacing[2]},function(e){return e.borderRadius[1]},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.tokens.core.backgroundError},function(e){return e.tokens.core.backgroundSuccess},function(e){return e.borderRadius.round},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.borderRadius.round},function(e){return e.tokens.theme.backgroundPrimary},function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.tokens.core.backgroundSuccess}),ji=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},_i={received:["pending","success","submitted"],processing:["success","submitted"],sending:["success","submitted"]},Di=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.pollingInterval=null,e.paymentAsset=xi.state.paymentAsset,e.quoteStatus=xi.state.quoteStatus,e.quote=xi.state.quote,e.amount=xi.state.amount,e.namespace=void 0,e.caipAddress=void 0,e.profileName=null,e.activeConnectorIds=Cr.A.state.activeConnectorIds,e.selectedExchange=xi.state.selectedExchange,e.initializeNamespace(),e.unsubscribe.push(xi.subscribeKey("quoteStatus",function(n){return e.quoteStatus=n}),xi.subscribeKey("quote",function(n){return e.quote=n}),Cr.A.subscribeKey("activeConnectorIds",function(n){return e.activeConnectorIds=n}),xi.subscribeKey("selectedExchange",function(n){return e.selectedExchange=n})),e}return sr(t,[{key:"connectedCallback",value:function(){nr(hr(t.prototype),"connectedCallback",this).call(this),this.startPolling()}},{key:"disconnectedCallback",value:function(){nr(hr(t.prototype),"disconnectedCallback",this).call(this),this.stopPolling(),this.unsubscribe.forEach(function(e){return e()})}},{key:"render",value:function(){return fr.dy(W||(W=mr(['\n      <wui-flex flexDirection="column" .padding=',' gap="2">\n        '," "," ","\n      </wui-flex>\n    "])),["3","0","0","0"],this.tokenTemplate(),this.paymentTemplate(),this.paymentLifecycleTemplate())}},{key:"tokenTemplate",value:function(){var e,n=this,t=vi(this.amount||"0"),r=null!==(e=this.paymentAsset.metadata.symbol)&&void 0!==e?e:"Unknown",o=Tr.R.getAllRequestedCaipNetworks().find(function(e){return e.caipNetworkId===n.paymentAsset.network});return"success"===this.quoteStatus||"submitted"===this.quoteStatus?fr.dy(z||(z=mr(['<wui-flex alignItems="center" justifyContent="center">\n        <wui-flex justifyContent="center" alignItems="center" class="token-image success">\n          <wui-icon name="checkmark" color="success" size="inherit"></wui-icon>\n        </wui-flex>\n      </wui-flex>']))):"failure"===this.quoteStatus||"timeout"===this.quoteStatus||"refund"===this.quoteStatus?fr.dy(F||(F=mr(['<wui-flex alignItems="center" justifyContent="center">\n        <wui-flex justifyContent="center" alignItems="center" class="token-image error">\n          <wui-icon name="close" color="error" size="inherit"></wui-icon>\n        </wui-flex>\n      </wui-flex>']))):fr.dy(M||(M=mr(['\n      <wui-flex alignItems="center" justifyContent="center">\n        <wui-flex class="token-image-container">\n          <wui-pulse size="125px" rings="3" duration="4" opacity="0.5" variant="accent-primary">\n            <wui-flex justifyContent="center" alignItems="center" class="token-image loading">\n              <wui-icon name="paperPlaneTitle" color="accent-primary" size="inherit"></wui-icon>\n            </wui-flex>\n          </wui-pulse>\n\n          <wui-flex\n            justifyContent="center"\n            alignItems="center"\n            class="token-badge-container loading"\n          >\n            <wui-flex\n              alignItems="center"\n              justifyContent="center"\n              gap="01"\n              padding="1"\n              class="token-badge"\n            >\n              <wui-image\n                src=','\n                class="chain-image"\n                size="mdl"\n              ></wui-image>\n\n              <wui-text variant="lg-regular" color="primary">'," ","</wui-text>\n            </wui-flex>\n          </wui-flex>\n        </wui-flex>\n      </wui-flex>\n    "])),(0,gr.o)(fo.f.getNetworkImage(o)),t,r)}},{key:"paymentTemplate",value:function(){return fr.dy(q||(q=mr(['\n      <wui-flex flexDirection="column" gap="2" .padding=',">\n        ","\n        <wui-separator></wui-separator>\n        ","\n      </wui-flex>\n    "])),["0","6","0","6"],this.renderPayment(),this.renderWallet())}},{key:"paymentLifecycleTemplate",value:function(){var e=this,n=this.getStepsWithStatus();return fr.dy(K||(K=mr(['\n      <wui-flex flexDirection="column" padding="4" gap="2" class="payment-lifecycle-container">\n        <wui-flex alignItems="center" justifyContent="space-between">\n          <wui-text variant="md-regular" color="secondary">PAYMENT CYCLE</wui-text>\n\n          ','\n        </wui-flex>\n\n        <wui-flex flexDirection="column" gap="5" .padding=',">\n          ","\n        </wui-flex>\n      </wui-flex>\n    "])),this.renderPaymentCycleBadge(),["2","0","2","0"],n.map(function(n){return e.renderStep(n)}))}},{key:"renderPaymentCycleBadge",value:function(){var e,n;return"failure"===this.quoteStatus||"timeout"===this.quoteStatus||"refund"===this.quoteStatus?fr.dy(V||(V=mr(['\n        <wui-flex\n          justifyContent="center"\n          alignItems="center"\n          class="payment-step-badge error"\n          gap="1"\n        >\n          <wui-icon name="close" color="error" size="xs"></wui-icon>\n          <wui-text variant="sm-regular" color="error">Failed</wui-text>\n        </wui-flex>\n      ']))):"success"===this.quoteStatus||"submitted"===this.quoteStatus?fr.dy(G||(G=mr(['\n        <wui-flex\n          justifyContent="center"\n          alignItems="center"\n          class="payment-step-badge success"\n          gap="1"\n        >\n          <wui-icon name="checkmark" color="success" size="xs"></wui-icon>\n          <wui-text variant="sm-regular" color="success">Completed</wui-text>\n        </wui-flex>\n      ']))):fr.dy(H||(H=mr(['\n      <wui-flex alignItems="center" justifyContent="space-between" gap="3">\n        <wui-flex\n          justifyContent="center"\n          alignItems="center"\n          class="payment-step-badge loading"\n          gap="1"\n        >\n          <wui-icon name="clock" color="default" size="xs"></wui-icon>\n          <wui-text variant="sm-regular" color="primary">Est. ',' sec</wui-text>\n        </wui-flex>\n\n        <wui-icon name="chevronBottom" color="default" size="xxs"></wui-icon>\n      </wui-flex>\n    '])),null!==(e=null===(n=this.quote)||void 0===n?void 0:n.timeInSeconds)&&void 0!==e?e:0)}},{key:"renderPayment",value:function(){var e,n,t,r,o,i=this,a=Tr.R.getAllRequestedCaipNetworks().find(function(e){var n,t=null===(n=i.quote)||void 0===n?void 0:n.origin.currency.network;if(!t)return!1;var r=Do.u.parseCaipNetworkId(t).chainId;return Lo.g.isLowerCaseMatch(e.id.toString(),r.toString())}),s=vi(_r.C.formatNumber((null===(e=this.quote)||void 0===e?void 0:e.origin.amount)||"0",{decimals:null!==(n=null===(t=this.quote)||void 0===t?void 0:t.origin.currency.metadata.decimals)&&void 0!==n?n:0}).toString());return fr.dy(Q||(Q=mr(['\n      <wui-flex\n        alignItems="flex-start"\n        justifyContent="space-between"\n        .padding=','\n      >\n        <wui-text variant="lg-regular" color="secondary">Payment Method</wui-text>\n\n        <wui-flex flexDirection="column" alignItems="flex-end" gap="1">\n          <wui-flex alignItems="center" gap="01">\n            <wui-text variant="lg-regular" color="primary">','</wui-text>\n            <wui-text variant="lg-regular" color="secondary">','</wui-text>\n          </wui-flex>\n\n          <wui-flex alignItems="center" gap="1">\n            <wui-text variant="md-regular" color="secondary">on</wui-text>\n            <wui-image\n              src=','\n              size="xs"\n            ></wui-image>\n            <wui-text variant="md-regular" color="secondary">',"</wui-text>\n          </wui-flex>\n        </wui-flex>\n      </wui-flex>\n    "])),["3","0","3","0"],s,null!==(r=null===(o=this.quote)||void 0===o?void 0:o.origin.currency.metadata.symbol)&&void 0!==r?r:"Unknown",(0,gr.o)(fo.f.getNetworkImage(a)),null==a?void 0:a.name)}},{key:"renderWallet",value:function(){return fr.dy(Y||(Y=mr(['\n      <wui-flex\n        alignItems="flex-start"\n        justifyContent="space-between"\n        .padding=','\n      >\n        <wui-text variant="lg-regular" color="secondary">Wallet</wui-text>\n\n        ',"\n      </wui-flex>\n    "])),["3","0","3","0"],this.renderWalletText())}},{key:"renderWalletText",value:function(){var e,n=this.getWalletProperties({namespace:this.namespace}).image,t=(this.caipAddress?Do.u.parseCaipAddress(this.caipAddress):{}).address,r=null===(e=this.selectedExchange)||void 0===e?void 0:e.name;return this.selectedExchange?fr.dy(Z||(Z=mr(['\n        <wui-flex alignItems="center" justifyContent="flex-end" gap="1">\n          <wui-text variant="lg-regular" color="primary">',"</wui-text>\n          <wui-image src=",' size="mdl"></wui-image>\n        </wui-flex>\n      '])),r,(0,gr.o)(this.selectedExchange.imageUrl)):fr.dy(X||(X=mr(['\n      <wui-flex alignItems="center" justifyContent="flex-end" gap="1">\n        <wui-text variant="lg-regular" color="primary">\n          ',"\n        </wui-text>\n\n        <wui-image src=",' size="mdl"></wui-image>\n      </wui-flex>\n    '])),$r.Hg.getTruncateString({string:this.profileName||t||r||"",charsStart:this.profileName?16:4,charsEnd:this.profileName?0:6,truncate:this.profileName?"end":"middle"}),(0,gr.o)(n))}},{key:"getStepsWithStatus",value:function(){var e=this;return Ri.map("failure"===this.quoteStatus||"timeout"===this.quoteStatus||"refund"===this.quoteStatus?function(e){return br(br({},e),{},{status:"failed"})}:function(n){var t,r=(null!==(t=_i[n.id])&&void 0!==t?t:[]).includes(e.quoteStatus)?"completed":"pending";return br(br({},n),{},{status:r})})}},{key:"renderStep",value:function(e){var n=e.title,t=e.icon,r=e.status;return fr.dy($||($=mr(['\n      <wui-flex alignItems="center" gap="3">\n        <wui-flex justifyContent="center" alignItems="center" class="step-icon-container">\n          <wui-icon name=',' color="default" size="mdl"></wui-icon>\n\n          <wui-flex alignItems="center" justifyContent="center" class=',">\n            ",'\n          </wui-flex>\n        </wui-flex>\n\n        <wui-text variant="md-regular" color="primary">',"</wui-text>\n      </wui-flex>\n    "])),t,(0,Pi.$)({"step-icon-box":!0,success:"completed"===r}),this.renderStatusIndicator(r),n)}},{key:"renderStatusIndicator",value:function(e){return"completed"===e?fr.dy(J||(J=mr(['<wui-icon size="sm" color="success" name="checkmark"></wui-icon>']))):"failed"===e?fr.dy(ee||(ee=mr(['<wui-icon size="sm" color="error" name="close"></wui-icon>']))):"pending"===e?fr.dy(ne||(ne=mr(['<wui-loading-spinner color="accent-primary" size="sm"></wui-loading-spinner>']))):null}},{key:"startPolling",value:function(){var e=this;this.pollingInterval||(this.fetchQuoteStatus(),this.pollingInterval=setInterval(function(){e.fetchQuoteStatus()},3e3))}},{key:"stopPolling",value:function(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)}},{key:"fetchQuoteStatus",value:function(){var e=this;return(0,dr.Z)(xr().mark(function n(){var t;return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((t=xi.state.requestId)&&!Oi.includes(e.quoteStatus)){n.next=5;break}e.stopPolling(),n.next=14;break;case 5:return n.prev=5,n.next=8,xi.fetchQuoteStatus({requestId:t});case 8:Oi.includes(e.quoteStatus)&&e.stopPolling(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(5),e.stopPolling();case 14:case"end":return n.stop()}},n,null,[[5,11]])}))()}},{key:"initializeNamespace",value:function(){var e,n,t,r=this,o=Tr.R.state.activeChain;this.namespace=o,this.caipAddress=null===(e=Tr.R.getAccountData(o))||void 0===e?void 0:e.caipAddress,this.profileName=null!==(n=null===(t=Tr.R.getAccountData(o))||void 0===t?void 0:t.profileName)&&void 0!==n?n:null,this.unsubscribe.push(Tr.R.subscribeChainProp("accountState",function(e){var n;r.caipAddress=null==e?void 0:e.caipAddress,r.profileName=null!==(n=null==e?void 0:e.profileName)&&void 0!==n?n:null},o))}},{key:"getWalletProperties",value:function(e){var n=e.namespace;if(!n)return{name:void 0,image:void 0};var t=this.activeConnectorIds[n];if(!t)return{name:void 0,image:void 0};var r=Cr.A.getConnector({id:t,namespace:n});if(!r)return{name:void 0,image:void 0};var o=fo.f.getConnectorImage(r);return{name:r.name,image:o}}}]),t}(fr.oi);Di.styles=Bi,ji([(0,wr.SB)()],Di.prototype,"paymentAsset",void 0),ji([(0,wr.SB)()],Di.prototype,"quoteStatus",void 0),ji([(0,wr.SB)()],Di.prototype,"quote",void 0),ji([(0,wr.SB)()],Di.prototype,"amount",void 0),ji([(0,wr.SB)()],Di.prototype,"namespace",void 0),ji([(0,wr.SB)()],Di.prototype,"caipAddress",void 0),ji([(0,wr.SB)()],Di.prototype,"profileName",void 0),ji([(0,wr.SB)()],Di.prototype,"activeConnectorIds",void 0),ji([(0,wr.SB)()],Di.prototype,"selectedExchange",void 0),Di=ji([(0,$r.Mo)("w3m-pay-loading-view")],Di);var Li=ar(18504),Ui=no.iv(te||(te=mr(["\n  button {\n    display: flex;\n    align-items: center;\n    height: 40px;\n    padding: ",";\n    border-radius: ",";\n    column-gap: ",";\n    background-color: transparent;\n    transition: background-color ","\n      ",";\n    will-change: background-color;\n  }\n\n  wui-image,\n  .icon-box {\n    width: ",";\n    height: ",";\n    border-radius: ",";\n  }\n\n  wui-text {\n    flex: 1;\n  }\n\n  .icon-box {\n    position: relative;\n  }\n\n  .icon-box[data-active='true'] {\n    background-color: ",";\n  }\n\n  .circle {\n    position: absolute;\n    left: 16px;\n    top: 15px;\n    width: 8px;\n    height: 8px;\n    background-color: ",";\n    box-shadow: 0 0 0 2px ",";\n    border-radius: 50%;\n  }\n\n  /* -- Hover & Active states ----------------------------------------------------------- */\n  @media (hover: hover) {\n    button:hover:enabled,\n    button:active:enabled {\n      background-color: ",";\n    }\n  }\n"])),function(e){return e.spacing[2]},function(e){return e.borderRadius[4]},function(e){return e.spacing[1]},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-2"]},function(e){return e.spacing[6]},function(e){return e.spacing[6]},function(e){return e.borderRadius[4]},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.tokens.core.textSuccess},function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.tokens.theme.foregroundPrimary}),Wi=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},zi=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.apply(this,arguments)).address="",e.profileName="",e.alt="",e.imageSrc="",e.icon=void 0,e.iconSize="md",e.enableGreenCircle=!0,e.loading=!1,e.charsStart=4,e.charsEnd=6,e}return sr(t,[{key:"render",value:function(){return fr.dy(re||(re=mr(["\n      <button>\n        "," "," ","\n      </button>\n    "])),this.leftImageTemplate(),this.textTemplate(),this.rightImageTemplate())}},{key:"leftImageTemplate",value:function(){var e=this.icon?fr.dy(oe||(oe=mr(["<wui-icon\n          size=",'\n          color="default"\n          name=','\n          class="icon"\n        ></wui-icon>'])),(0,gr.o)(this.iconSize),this.icon):fr.dy(ie||(ie=mr(["<wui-image src="," alt=","></wui-image>"])),this.imageSrc,this.alt);return fr.dy(ae||(ae=mr(['\n      <wui-flex\n        alignItems="center"\n        justifyContent="center"\n        class="icon-box"\n        data-active=',"\n      >\n        ","\n        ","\n      </wui-flex>\n    "])),Boolean(this.icon),e,this.enableGreenCircle?fr.dy(se||(se=mr(['<wui-flex class="circle"></wui-flex>']))):null)}},{key:"textTemplate",value:function(){return fr.dy(ce||(ce=mr(['\n      <wui-text variant="lg-regular" color="primary">\n        ',"\n      </wui-text>\n    "])),Li.H.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?16:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"}))}},{key:"rightImageTemplate",value:function(){return fr.dy(ue||(ue=mr(['<wui-icon name="chevronBottom" size="sm" color="default"></wui-icon>'])))}}]),t}(fr.oi);zi.styles=[Jr.ET,Jr.ZM,Ui],Wi([(0,wr.Cb)()],zi.prototype,"address",void 0),Wi([(0,wr.Cb)()],zi.prototype,"profileName",void 0),Wi([(0,wr.Cb)()],zi.prototype,"alt",void 0),Wi([(0,wr.Cb)()],zi.prototype,"imageSrc",void 0),Wi([(0,wr.Cb)()],zi.prototype,"icon",void 0),Wi([(0,wr.Cb)()],zi.prototype,"iconSize",void 0),Wi([(0,wr.Cb)({type:Boolean})],zi.prototype,"enableGreenCircle",void 0),Wi([(0,wr.Cb)({type:Boolean})],zi.prototype,"loading",void 0),Wi([(0,wr.Cb)({type:Number})],zi.prototype,"charsStart",void 0),Wi([(0,wr.Cb)({type:Number})],zi.prototype,"charsEnd",void 0),zi=Wi([(0,eo.M)("wui-wallet-switch")],zi),ar(75705);var Fi=fr.iv(le||(le=mr(["\n  :host {\n    display: block;\n  }\n"]))),Mi=function(e){cr(t,e);var n=lr(t);function t(){return ir(this,t),n.apply(this,arguments)}return sr(t,[{key:"render",value:function(){return fr.dy(de||(de=mr(['\n      <wui-flex flexDirection="column" gap="4">\n        <wui-flex alignItems="center" justifyContent="space-between">\n          <wui-text variant="md-regular" color="secondary">Pay</wui-text>\n          <wui-shimmer width="60px" height="16px" borderRadius="4xs" variant="light"></wui-shimmer>\n        </wui-flex>\n\n        <wui-flex alignItems="center" justifyContent="space-between">\n          <wui-text variant="md-regular" color="secondary">Network Fee</wui-text>\n\n          <wui-flex flexDirection="column" alignItems="flex-end" gap="2">\n            <wui-shimmer\n              width="75px"\n              height="16px"\n              borderRadius="4xs"\n              variant="light"\n            ></wui-shimmer>\n\n            <wui-flex alignItems="center" gap="01">\n              <wui-shimmer width="14px" height="14px" rounded variant="light"></wui-shimmer>\n              <wui-shimmer\n                width="49px"\n                height="14px"\n                borderRadius="4xs"\n                variant="light"\n              ></wui-shimmer>\n            </wui-flex>\n          </wui-flex>\n        </wui-flex>\n\n        <wui-flex alignItems="center" justifyContent="space-between">\n          <wui-text variant="md-regular" color="secondary">Service Fee</wui-text>\n          <wui-shimmer width="75px" height="16px" borderRadius="4xs" variant="light"></wui-shimmer>\n        </wui-flex>\n      </wui-flex>\n    '])))}}]),t}(fr.oi);Mi.styles=[Fi],Mi=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a}([(0,$r.Mo)("w3m-pay-fees-skeleton")],Mi);var qi=$r.iv(pe||(pe=mr(["\n  :host {\n    display: block;\n  }\n\n  wui-image {\n    border-radius: ",";\n  }\n"])),function(e){return e.borderRadius.round}),Ki=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},Vi=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.quote=xi.state.quote,e.unsubscribe.push(xi.subscribeKey("quote",function(n){return e.quote=n})),e}return sr(t,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach(function(e){return e()})}},{key:"render",value:function(){var e,n,t,r,o=this,i=_r.C.formatNumber((null===(e=this.quote)||void 0===e?void 0:e.origin.amount)||"0",{decimals:null!==(n=null===(t=this.quote)||void 0===t?void 0:t.origin.currency.metadata.decimals)&&void 0!==n?n:0,round:6}).toString();return fr.dy(fe||(fe=mr(['\n      <wui-flex flexDirection="column" gap="4">\n        <wui-flex alignItems="center" justifyContent="space-between">\n          <wui-text variant="md-regular" color="secondary">Pay</wui-text>\n          <wui-text variant="md-regular" color="primary">\n            '," ","\n          </wui-text>\n        </wui-flex>\n\n        ","\n      </wui-flex>\n    "])),i,(null===(r=this.quote)||void 0===r?void 0:r.origin.currency.metadata.symbol)||"Unknown",this.quote&&this.quote.fees.length>0?this.quote.fees.map(function(e){return o.renderFee(e)}):null)}},{key:"renderFee",value:function(e){var n,t="network"===e.id,r=_r.C.formatNumber(e.amount||"0",{decimals:null!==(n=e.currency.metadata.decimals)&&void 0!==n?n:0,round:6}).toString();if(t){var o=Tr.R.getAllRequestedCaipNetworks().find(function(n){return Lo.g.isLowerCaseMatch(n.caipNetworkId,e.currency.network)});return fr.dy(he||(he=mr(['\n        <wui-flex alignItems="center" justifyContent="space-between">\n          <wui-text variant="md-regular" color="secondary">','</wui-text>\n\n          <wui-flex flexDirection="column" alignItems="flex-end" gap="2">\n            <wui-text variant="md-regular" color="primary">\n              '," ",'\n            </wui-text>\n\n            <wui-flex alignItems="center" gap="01">\n              <wui-image\n                src=','\n                size="xs"\n              ></wui-image>\n              <wui-text variant="sm-regular" color="secondary">\n                ',"\n              </wui-text>\n            </wui-flex>\n          </wui-flex>\n        </wui-flex>\n      "])),e.label,r,e.currency.metadata.symbol||"Unknown",(0,gr.o)(fo.f.getNetworkImage(o)),(null==o?void 0:o.name)||"Unknown")}return fr.dy(me||(me=mr(['\n      <wui-flex alignItems="center" justifyContent="space-between">\n        <wui-text variant="md-regular" color="secondary">','</wui-text>\n        <wui-text variant="md-regular" color="primary">\n          '," ","\n        </wui-text>\n      </wui-flex>\n    "])),e.label,r,e.currency.metadata.symbol||"Unknown")}}]),t}(fr.oi);Vi.styles=[qi],Ki([(0,wr.SB)()],Vi.prototype,"quote",void 0),Vi=Ki([(0,$r.Mo)("w3m-pay-fees")],Vi);var Gi=$r.iv(ve||(ve=mr(["\n  :host {\n    display: block;\n    width: 100%;\n  }\n\n  .disabled-container {\n    padding: ",";\n    min-height: 168px;\n  }\n\n  wui-icon {\n    width: ",";\n    height: ",";\n  }\n\n  wui-flex > wui-text {\n    max-width: 273px;\n  }\n"])),function(e){return e.spacing[2]},function(e){return e.spacing[8]},function(e){return e.spacing[8]}),Hi=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},Qi=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.selectedExchange=xi.state.selectedExchange,e.unsubscribe.push(xi.subscribeKey("selectedExchange",function(n){return e.selectedExchange=n})),e}return sr(t,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach(function(e){return e()})}},{key:"render",value:function(){var e=Boolean(this.selectedExchange);return fr.dy(we||(we=mr(['\n      <wui-flex\n        flexDirection="column"\n        alignItems="center"\n        justifyContent="center"\n        gap="3"\n        class="disabled-container"\n      >\n        <wui-icon name="coins" color="default" size="inherit"></wui-icon>\n\n        <wui-text variant="md-regular" color="primary" align="center">\n          You don\'t have enough funds to complete this transaction\n        </wui-text>\n\n        ',"\n      </wui-flex>\n    "])),e?null:fr.dy(ge||(ge=mr(['<wui-button\n              size="md"\n              variant="neutral-secondary"\n              @click=',"\n              >Connect other wallet</wui-button\n            >"])),this.dispatchConnectOtherWalletEvent.bind(this)))}},{key:"dispatchConnectOtherWalletEvent",value:function(){this.dispatchEvent(new CustomEvent("connectOtherWallet",{detail:!0,bubbles:!0,composed:!0}))}}]),t}(fr.oi);Qi.styles=[Gi],Hi([(0,wr.Cb)({type:Array})],Qi.prototype,"selectedExchange",void 0),Qi=Hi([(0,$r.Mo)("w3m-pay-options-empty")],Qi);var Yi=$r.iv(ye||(ye=mr(["\n  :host {\n    display: block;\n    width: 100%;\n  }\n\n  .pay-options-container {\n    max-height: 196px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    scrollbar-width: none;\n  }\n\n  .pay-options-container::-webkit-scrollbar {\n    display: none;\n  }\n\n  .pay-option-container {\n    border-radius: ",";\n    padding: ",";\n    min-height: 60px;\n  }\n\n  .token-images-container {\n    position: relative;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .chain-image {\n    position: absolute;\n    bottom: -3px;\n    right: -5px;\n    border: 2px solid ",";\n  }\n"])),function(e){return e.borderRadius[4]},function(e){return e.spacing[3]},function(e){return e.tokens.theme.foregroundSecondary}),Zi=function(e){cr(t,e);var n=lr(t);function t(){return ir(this,t),n.apply(this,arguments)}return sr(t,[{key:"render",value:function(){return fr.dy(be||(be=mr(['\n      <wui-flex flexDirection="column" gap="2" class="pay-options-container">\n        '," "," ","\n      </wui-flex>\n    "])),this.renderOptionEntry(),this.renderOptionEntry(),this.renderOptionEntry())}},{key:"renderOptionEntry",value:function(){return fr.dy(ke||(ke=mr(['\n      <wui-flex\n        alignItems="center"\n        justifyContent="space-between"\n        gap="2"\n        class="pay-option-container"\n      >\n        <wui-flex alignItems="center" gap="2">\n          <wui-flex class="token-images-container">\n            <wui-shimmer\n              width="32px"\n              height="32px"\n              rounded\n              variant="light"\n              class="token-image"\n            ></wui-shimmer>\n            <wui-shimmer\n              width="16px"\n              height="16px"\n              rounded\n              variant="light"\n              class="chain-image"\n            ></wui-shimmer>\n          </wui-flex>\n\n          <wui-flex flexDirection="column" gap="1">\n            <wui-shimmer\n              width="74px"\n              height="16px"\n              borderRadius="4xs"\n              variant="light"\n            ></wui-shimmer>\n            <wui-shimmer\n              width="46px"\n              height="14px"\n              borderRadius="4xs"\n              variant="light"\n            ></wui-shimmer>\n          </wui-flex>\n        </wui-flex>\n      </wui-flex>\n    '])))}}]),t}(fr.oi);Zi.styles=[Yi],Zi=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a}([(0,$r.Mo)("w3m-pay-options-skeleton")],Zi);var Xi=$r.iv(xe||(xe=mr(["\n  :host {\n    display: block;\n    width: 100%;\n  }\n\n  .pay-options-container {\n    max-height: 196px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    scrollbar-width: none;\n    mask-image: var(--options-mask-image);\n    -webkit-mask-image: var(--options-mask-image);\n  }\n\n  .pay-options-container::-webkit-scrollbar {\n    display: none;\n  }\n\n  .pay-option-container {\n    cursor: pointer;\n    border-radius: ",";\n    padding: ",";\n    transition: background-color ","\n      ",";\n    will-change: background-color;\n  }\n\n  .token-images-container {\n    position: relative;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .token-image {\n    border-radius: ",";\n    width: 32px;\n    height: 32px;\n  }\n\n  .chain-image {\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    bottom: -3px;\n    right: -5px;\n    border-radius: ",";\n    border: 2px solid ",";\n  }\n\n  @media (hover: hover) and (pointer: fine) {\n    .pay-option-container:hover {\n      background-color: ",";\n    }\n  }\n"])),function(e){return e.borderRadius[4]},function(e){return e.spacing[3]},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-1"]},function(e){return e.borderRadius.round},function(e){return e.borderRadius.round},function(e){return e.tokens.theme.backgroundPrimary},function(e){return e.tokens.theme.foregroundPrimary}),$i=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},Ji=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.options=[],e.selectedPaymentAsset=null,e}return sr(t,[{key:"disconnectedCallback",value:function(){var e,n,t;this.unsubscribe.forEach(function(e){return e()}),null!==(e=this.resizeObserver)&&void 0!==e&&e.disconnect(),null===(n=this.shadowRoot)||void 0===n||null===(t=n.querySelector(".pay-options-container"))||void 0===t||t.removeEventListener("scroll",this.handleOptionsListScroll.bind(this))}},{key:"firstUpdated",value:function(){var e,n,t=this,r=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".pay-options-container");r&&(requestAnimationFrame(this.handleOptionsListScroll.bind(this)),null!=r&&r.addEventListener("scroll",this.handleOptionsListScroll.bind(this)),this.resizeObserver=new ResizeObserver(function(){t.handleOptionsListScroll()}),null!==(n=this.resizeObserver)&&void 0!==n&&n.observe(r),this.handleOptionsListScroll())}},{key:"render",value:function(){var e=this;return fr.dy(Se||(Se=mr(['\n      <wui-flex flexDirection="column" gap="2" class="pay-options-container">\n        ',"\n      </wui-flex>\n    "])),this.options.map(function(n){return e.payOptionTemplate(n)}))}},{key:"payOptionTemplate",value:function(e){var n,t,r=this,o=e.network,i=e.metadata,a=e.asset,s=e.amount,c=void 0===s?"0":s,u=Tr.R.getAllRequestedCaipNetworks().find(function(e){return e.caipNetworkId===o}),l="".concat(o,":").concat(a)=="".concat(null===(n=this.selectedPaymentAsset)||void 0===n?void 0:n.network,":").concat(null===(t=this.selectedPaymentAsset)||void 0===t?void 0:t.asset),d=_r.C.bigNumber(c,{safe:!0}),p=d.gt(0);return fr.dy(Te||(Te=mr(['\n      <wui-flex\n        alignItems="center"\n        justifyContent="space-between"\n        gap="2"\n        @click=','\n        class="pay-option-container"\n      >\n        <wui-flex alignItems="center" gap="2">\n          <wui-flex class="token-images-container">\n            <wui-image\n              src=','\n              class="token-image"\n              size="3xl"\n            ></wui-image>\n            <wui-image\n              src=','\n              class="chain-image"\n              size="md"\n            ></wui-image>\n          </wui-flex>\n\n          <wui-flex flexDirection="column" gap="1">\n            <wui-text variant="lg-regular" color="primary">',"</wui-text>\n            ","\n          </wui-flex>\n        </wui-flex>\n\n        ","\n      </wui-flex>\n    "])),function(){var n;return null===(n=r.onSelect)||void 0===n?void 0:n.call(r,e)},(0,gr.o)(i.logoURI),(0,gr.o)(fo.f.getNetworkImage(u)),i.symbol,p?fr.dy(Ce||(Ce=mr(['<wui-text variant="sm-regular" color="secondary">\n                  '," ","\n                </wui-text>"])),d.round(6).toString(),i.symbol):null,l?fr.dy(Pe||(Pe=mr(['<wui-icon name="checkmark" size="md" color="success"></wui-icon>']))):null)}},{key:"handleOptionsListScroll",value:function(){var e,n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".pay-options-container");n&&(n.scrollHeight>300?(n.style.setProperty("--options-mask-image","linear-gradient(\n          to bottom,\n          rgba(0, 0, 0, calc(1 - var(--options-scroll--top-opacity))) 0px,\n          rgba(200, 200, 200, calc(1 - var(--options-scroll--top-opacity))) 1px,\n          black 50px,\n          black calc(100% - 50px),\n          rgba(155, 155, 155, calc(1 - var(--options-scroll--bottom-opacity))) calc(100% - 1px),\n          rgba(0, 0, 0, calc(1 - var(--options-scroll--bottom-opacity))) 100%\n        )"),n.style.setProperty("--options-scroll--top-opacity",$r.kj.interpolate([0,50],[0,1],n.scrollTop).toString()),n.style.setProperty("--options-scroll--bottom-opacity",$r.kj.interpolate([0,50],[0,1],n.scrollHeight-n.scrollTop-n.offsetHeight).toString())):(n.style.setProperty("--options-mask-image","none"),n.style.setProperty("--options-scroll--top-opacity","0"),n.style.setProperty("--options-scroll--bottom-opacity","0")))}}]),t}(fr.oi);Ji.styles=[Xi],$i([(0,wr.Cb)({type:Array})],Ji.prototype,"options",void 0),$i([(0,wr.Cb)()],Ji.prototype,"selectedPaymentAsset",void 0),$i([(0,wr.Cb)()],Ji.prototype,"onSelect",void 0),Ji=$i([(0,$r.Mo)("w3m-pay-options")],Ji);var ea=$r.iv(Ae||(Ae=mr(["\n  .payment-methods-container {\n    background-color: ",";\n    border-top-right-radius: ",";\n    border-top-left-radius: ",";\n  }\n\n  .pay-options-container {\n    background-color: ",";\n    border-radius: ",";\n    padding: ",";\n  }\n\n  w3m-tooltip-trigger {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    max-width: fit-content;\n  }\n\n  wui-image {\n    border-radius: ",";\n  }\n\n  w3m-pay-options.disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n"])),function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.borderRadius[5]},function(e){return e.borderRadius[5]},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.borderRadius[5]},function(e){return e.spacing[1]},function(e){return e.borderRadius.round}),na=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},ta={eip155:{icon:"ethereum",label:"EVM"},solana:{icon:"solana",label:"Solana"},bip122:{icon:"bitcoin",label:"Bitcoin"},ton:{icon:"ton",label:"Ton"}},ra=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.profileName=null,e.paymentAsset=xi.state.paymentAsset,e.namespace=void 0,e.caipAddress=void 0,e.amount=xi.state.amount,e.recipient=xi.state.recipient,e.activeConnectorIds=Cr.A.state.activeConnectorIds,e.selectedPaymentAsset=xi.state.selectedPaymentAsset,e.selectedExchange=xi.state.selectedExchange,e.isFetchingQuote=xi.state.isFetchingQuote,e.quoteError=xi.state.quoteError,e.quote=xi.state.quote,e.isFetchingTokenBalances=xi.state.isFetchingTokenBalances,e.tokenBalances=xi.state.tokenBalances,e.isPaymentInProgress=xi.state.isPaymentInProgress,e.exchangeUrlForQuote=xi.state.exchangeUrlForQuote,e.completedTransactionsCount=0,e.unsubscribe.push(xi.subscribeKey("paymentAsset",function(n){return e.paymentAsset=n})),e.unsubscribe.push(xi.subscribeKey("tokenBalances",function(n){return e.onTokenBalancesChanged(n)})),e.unsubscribe.push(xi.subscribeKey("isFetchingTokenBalances",function(n){return e.isFetchingTokenBalances=n})),e.unsubscribe.push(Cr.A.subscribeKey("activeConnectorIds",function(n){return e.activeConnectorIds=n})),e.unsubscribe.push(xi.subscribeKey("selectedPaymentAsset",function(n){return e.selectedPaymentAsset=n})),e.unsubscribe.push(xi.subscribeKey("isFetchingQuote",function(n){return e.isFetchingQuote=n})),e.unsubscribe.push(xi.subscribeKey("quoteError",function(n){return e.quoteError=n})),e.unsubscribe.push(xi.subscribeKey("quote",function(n){return e.quote=n})),e.unsubscribe.push(xi.subscribeKey("amount",function(n){return e.amount=n})),e.unsubscribe.push(xi.subscribeKey("recipient",function(n){return e.recipient=n})),e.unsubscribe.push(xi.subscribeKey("isPaymentInProgress",function(n){return e.isPaymentInProgress=n})),e.unsubscribe.push(xi.subscribeKey("selectedExchange",function(n){return e.selectedExchange=n})),e.unsubscribe.push(xi.subscribeKey("exchangeUrlForQuote",function(n){return e.exchangeUrlForQuote=n})),e.resetQuoteState(),e.initializeNamespace(),e.fetchTokens(),e}return sr(t,[{key:"disconnectedCallback",value:function(){nr(hr(t.prototype),"disconnectedCallback",this).call(this),this.resetAssetsState(),this.unsubscribe.forEach(function(e){return e()})}},{key:"updated",value:function(e){nr(hr(t.prototype),"updated",this).call(this,e),e.has("selectedPaymentAsset")&&this.fetchQuote()}},{key:"render",value:function(){return fr.dy(Ie||(Ie=mr(['\n      <wui-flex flexDirection="column">\n        ','\n\n        <wui-flex\n          flexDirection="column"\n          gap="4"\n          class="payment-methods-container"\n          .padding=',"\n        >\n          "," ",'\n\n          <wui-flex\n            alignItems="center"\n            justifyContent="space-between"\n            .padding=',"\n          >\n            <wui-separator></wui-separator>\n          </wui-flex>\n\n          ","\n        </wui-flex>\n      </wui-flex>\n    "])),this.profileTemplate(),["4","4","5","4"],this.paymentOptionsViewTemplate(),this.amountWithFeeTemplate(),["1","0","1","0"],this.paymentActionsTemplate())}},{key:"profileTemplate",value:function(){var e,n;if(this.selectedExchange){var t,r,o,i=_r.C.formatNumber(null===(t=this.quote)||void 0===t?void 0:t.origin.amount,{decimals:null!==(r=null===(o=this.quote)||void 0===o?void 0:o.origin.currency.metadata.decimals)&&void 0!==r?r:0}).toString();return fr.dy(Ee||(Ee=mr(["\n        <wui-flex\n          .padding=",'\n          alignItems="center"\n          justifyContent="space-between"\n          gap="2"\n        >\n          <wui-text variant="lg-regular" color="secondary">Paying with</wui-text>\n\n          ',"\n        </wui-flex>\n      "])),["4","3","4","3"],this.quote?fr.dy(Ne||(Ne=mr(['<wui-text variant="lg-regular" color="primary">\n                ',"\n                ","\n              </wui-text>"])),_r.C.bigNumber(i,{safe:!0}).round(6).toString(),this.quote.origin.currency.metadata.symbol):fr.dy(Re||(Re=mr(['<wui-shimmer width="80px" height="18px" variant="light"></wui-shimmer>']))))}var a=null!==(e=Fr.j.getPlainAddress(this.caipAddress))&&void 0!==e?e:"",s=this.getWalletProperties({namespace:this.namespace}),c=s.name,u=s.image,l=null!==(n=ta[this.namespace])&&void 0!==n?n:{},d=l.icon,p=l.label;return fr.dy(Oe||(Oe=mr(["\n      <wui-flex\n        .padding=",'\n        alignItems="center"\n        justifyContent="space-between"\n        gap="2"\n      >\n        <wui-wallet-switch\n          profileName=',"\n          address=","\n          imageSrc=","\n          alt=","\n          @click=",'\n          data-testid="wui-wallet-switch"\n        ></wui-wallet-switch>\n\n        <wui-wallet-switch\n          profileName=',"\n          address=","\n          icon=",'\n          iconSize="xs"\n          .enableGreenCircle=',"\n          alt=","\n          @click=",'\n          data-testid="wui-wallet-switch"\n        ></wui-wallet-switch>\n      </wui-flex>\n    '])),["4","3","4","3"],(0,gr.o)(this.profileName),(0,gr.o)(a),(0,gr.o)(u),(0,gr.o)(c),this.onConnectOtherWallet.bind(this),(0,gr.o)(p),(0,gr.o)(a),(0,gr.o)(d),!1,(0,gr.o)(p),this.onConnectOtherWallet.bind(this))}},{key:"initializeNamespace",value:function(){var e,n,t,r=this,o=Tr.R.state.activeChain;this.namespace=o,this.caipAddress=null===(e=Tr.R.getAccountData(o))||void 0===e?void 0:e.caipAddress,this.profileName=null!==(n=null===(t=Tr.R.getAccountData(o))||void 0===t?void 0:t.profileName)&&void 0!==n?n:null,this.unsubscribe.push(Tr.R.subscribeChainProp("accountState",function(e){return r.onAccountStateChanged(e)},o))}},{key:"fetchTokens",value:function(){var e=this;return(0,dr.Z)(xr().mark(function n(){var t,r,o,i,a;return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.namespace){n.next=4;break}return e.caipAddress&&(r=Do.u.parseCaipAddress(e.caipAddress),o=r.chainId,i=r.chainNamespace,a="".concat(i,":").concat(o),t=Tr.R.getAllRequestedCaipNetworks().find(function(e){return e.caipNetworkId===a})),n.next=4,xi.fetchTokens({caipAddress:e.caipAddress,caipNetwork:t,namespace:e.namespace});case 4:case"end":return n.stop()}},n)}))()}},{key:"fetchQuote",value:function(){if(this.amount&&this.recipient&&this.selectedPaymentAsset&&this.paymentAsset){var e=(this.caipAddress?Do.u.parseCaipAddress(this.caipAddress):{}).address;xi.fetchQuote({amount:this.amount.toString(),address:e,sourceToken:this.selectedPaymentAsset,toToken:this.paymentAsset,recipient:this.recipient})}}},{key:"getWalletProperties",value:function(e){var n=e.namespace;if(!n)return{name:void 0,image:void 0};var t=this.activeConnectorIds[n];if(!t)return{name:void 0,image:void 0};var r=Cr.A.getConnector({id:t,namespace:n});if(!r)return{name:void 0,image:void 0};var o=fo.f.getConnectorImage(r);return{name:r.name,image:o}}},{key:"paymentOptionsViewTemplate",value:function(){return fr.dy(Be||(Be=mr(['\n      <wui-flex flexDirection="column" gap="2">\n        <wui-text variant="sm-regular" color="secondary">CHOOSE PAYMENT OPTION</wui-text>\n        <wui-flex class="pay-options-container">',"</wui-flex>\n      </wui-flex>\n    "])),this.paymentOptionsTemplate())}},{key:"paymentOptionsTemplate",value:function(){var e=this.getPaymentAssetFromTokenBalances();return this.isFetchingTokenBalances?fr.dy(je||(je=mr(["<w3m-pay-options-skeleton></w3m-pay-options-skeleton>"]))):0===e.length?fr.dy(_e||(_e=mr(["<w3m-pay-options-empty\n        @connectOtherWallet=","\n      ></w3m-pay-options-empty>"])),this.onConnectOtherWallet.bind(this)):fr.dy(De||(De=mr(["<w3m-pay-options\n      class=","\n      .options=","\n      .selectedPaymentAsset=","\n      .onSelect=","\n    ></w3m-pay-options>"])),(0,Pi.$)({disabled:this.isFetchingQuote}),e,(0,gr.o)(this.selectedPaymentAsset),this.onSelectedPaymentAssetChanged.bind(this))}},{key:"amountWithFeeTemplate",value:function(){return this.isFetchingQuote||!this.selectedPaymentAsset||this.quoteError?fr.dy(Le||(Le=mr(["<w3m-pay-fees-skeleton></w3m-pay-fees-skeleton>"]))):fr.dy(Ue||(Ue=mr(["<w3m-pay-fees></w3m-pay-fees>"])))}},{key:"paymentActionsTemplate",value:function(){var e,n,t,r,o,i=this.isFetchingQuote||this.isFetchingTokenBalances,a=this.isFetchingQuote||this.isFetchingTokenBalances||!this.selectedPaymentAsset||Boolean(this.quoteError),s=_r.C.formatNumber(null!==(e=null===(n=this.quote)||void 0===n?void 0:n.origin.amount)&&void 0!==e?e:0,{decimals:null!==(t=null===(r=this.quote)||void 0===r?void 0:r.origin.currency.metadata.decimals)&&void 0!==t?t:0}).toString();return this.selectedExchange?i||a?fr.dy(We||(We=mr(['\n          <wui-shimmer width="100%" height="48px" variant="light" ?rounded=',"></wui-shimmer>\n        "])),!0):fr.dy(ze||(ze=mr(['<wui-button\n        size="lg"\n        fullWidth\n        variant="accent-secondary"\n        @click=',"\n      >\n        ",'\n\n        <wui-icon name="arrowRight" color="inherit" size="sm" slot="iconRight"></wui-icon>\n      </wui-button>'])),this.onPayWithExchange.bind(this),"Continue in ".concat(this.selectedExchange.name)):fr.dy(Fe||(Fe=mr(['\n      <wui-flex alignItems="center" justifyContent="space-between">\n        <wui-flex flexDirection="column" gap="1">\n          <wui-text variant="md-regular" color="secondary">Order Total</wui-text>\n\n          ',"\n        </wui-flex>\n\n        ","\n      </wui-flex>\n    "])),i||a?fr.dy(Me||(Me=mr(['<wui-shimmer width="58px" height="32px" variant="light"></wui-shimmer>']))):fr.dy(qe||(qe=mr(['<wui-flex alignItems="center" gap="01">\n                <wui-text variant="h4-regular" color="primary">','</wui-text>\n\n                <wui-text variant="lg-regular" color="secondary">\n                  ',"\n                </wui-text>\n              </wui-flex>"])),vi(s),(null===(o=this.quote)||void 0===o?void 0:o.origin.currency.metadata.symbol)||"Unknown"),this.actionButtonTemplate({isLoading:i,isDisabled:a}))}},{key:"actionButtonTemplate",value:function(e){var n=this,t=Zo(this.quote),r=e.isLoading,o=e.isDisabled,i="Pay";return t.length>1&&0===this.completedTransactionsCount&&(i="Approve"),fr.dy(Ke||(Ke=mr(['\n      <wui-button\n        size="lg"\n        variant="accent-primary"\n        ?loading=',"\n        ?disabled=","\n        @click=","\n      >\n        ","\n        ","\n      </wui-button>\n    "])),r||this.isPaymentInProgress,o||this.isPaymentInProgress,function(){t.length>0?n.onSendTransactions():n.onTransfer()},i,r?null:fr.dy(Ve||(Ve=mr(['<wui-icon\n              name="arrowRight"\n              color="inherit"\n              size="sm"\n              slot="iconRight"\n            ></wui-icon>']))))}},{key:"getPaymentAssetFromTokenBalances",value:function(){var e,n=this;return this.namespace?(null!==(e=this.tokenBalances[this.namespace])&&void 0!==e?e:[]).map(function(e){try{return function(e){var n=Tr.R.getAllRequestedCaipNetworks().find(function(n){return n.caipNetworkId===e.chainId}),t=e.address;if(!n)throw new Error('Target network not found for balance chainId "'.concat(e.chainId,'"'));if(Lo.g.isLowerCaseMatch(e.symbol,n.nativeCurrency.symbol))t="native";else if(Fr.j.isCaipAddress(t)){t=Do.u.parseCaipAddress(t).address}else if(!t)throw new Error('Balance address not found for balance symbol "'.concat(e.symbol,'"'));return{network:n.caipNetworkId,asset:t,metadata:{name:e.name,symbol:e.symbol,decimals:Number(e.quantity.decimals),logoURI:e.iconUrl},amount:e.quantity.numeric}}(e)}catch(n){return null}}).filter(function(e){return Boolean(e)}).filter(function(e){var t=Do.u.parseCaipNetworkId(e.network).chainId,r=Do.u.parseCaipNetworkId(n.paymentAsset.network).chainId;return!!Lo.g.isLowerCaseMatch(e.asset,n.paymentAsset.asset)||!n.selectedExchange||!Lo.g.isLowerCaseMatch(t.toString(),r.toString())}):[]}},{key:"onTokenBalancesChanged",value:function(e){this.tokenBalances=e;var n=er(this.getPaymentAssetFromTokenBalances(),1)[0];n&&xi.setSelectedPaymentAsset(n)}},{key:"onConnectOtherWallet",value:function(){return(0,dr.Z)(xr().mark(function e(){return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cr.A.connect();case 2:return e.next=4,Sr.I.open({view:"PayQuote"});case 4:case"end":return e.stop()}},e)}))()}},{key:"onAccountStateChanged",value:function(e){var n,t=(this.caipAddress?Do.u.parseCaipAddress(this.caipAddress):{}).address;if(this.caipAddress=null==e?void 0:e.caipAddress,this.profileName=null!==(n=null==e?void 0:e.profileName)&&void 0!==n?n:null,t){var r=(this.caipAddress?Do.u.parseCaipAddress(this.caipAddress):{}).address;r?Lo.g.isLowerCaseMatch(r,t)||(this.resetAssetsState(),this.resetQuoteState(),this.fetchTokens()):Sr.I.close()}}},{key:"onSelectedPaymentAssetChanged",value:function(e){this.isFetchingQuote||xi.setSelectedPaymentAsset(e)}},{key:"onTransfer",value:function(){var e=this;return(0,dr.Z)(xr().mark(function n(){var t,r,o,i,a,s,c,u,l,d;return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=Yo(e.quote))){n.next=13;break}if(Lo.g.isLowerCaseMatch(null===(r=e.selectedPaymentAsset)||void 0===r?void 0:r.asset,t.deposit.currency)){n.next=4;break}throw new Error("Quote asset is not the same as the selected payment asset");case 4:if(c=null!==(o=null===(i=e.selectedPaymentAsset)||void 0===i?void 0:i.amount)&&void 0!==o?o:"0",u=_r.C.formatNumber(t.deposit.amount,{decimals:null!==(a=null===(s=e.selectedPaymentAsset)||void 0===s?void 0:s.metadata.decimals)&&void 0!==a?a:0}).toString(),_r.C.bigNumber(c).gte(u)){n.next=7;break}return n.abrupt("return",void Or.K.showError("Insufficient funds"));case 7:if(!(e.quote&&e.selectedPaymentAsset&&e.caipAddress&&e.namespace)){n.next=13;break}return l=Do.u.parseCaipAddress(e.caipAddress),d=l.address,n.next=11,xi.onTransfer({chainNamespace:e.namespace,fromAddress:d,toAddress:t.deposit.receiver,amount:u,paymentAsset:e.selectedPaymentAsset});case 11:xi.setRequestId(t.requestId),Ar.P.push("PayLoading");case 13:case"end":return n.stop()}},n)}))()}},{key:"onSendTransactions",value:function(){var e=this;return(0,dr.Z)(xr().mark(function n(){var t,r,o,i,a,s,c,u,l,d,p,f;return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c=null!==(t=null===(r=e.selectedPaymentAsset)||void 0===r?void 0:r.amount)&&void 0!==t?t:"0",u=_r.C.formatNumber(null!==(o=null===(i=e.quote)||void 0===i?void 0:i.origin.amount)&&void 0!==o?o:0,{decimals:null!==(a=null===(s=e.selectedPaymentAsset)||void 0===s?void 0:s.metadata.decimals)&&void 0!==a?a:0}).toString(),_r.C.bigNumber(c).gte(u)){n.next=3;break}return n.abrupt("return",void Or.K.showError("Insufficient funds"));case 3:if(l=Zo(e.quote),d=Zo(e.quote,e.completedTransactionsCount),p=er(d,1),f=p[0],n.t0=f&&e.namespace,!n.t0){n.next=10;break}return n.next=8,xi.onSendTransaction({namespace:e.namespace,transactionStep:f});case 8:e.completedTransactionsCount+=1,e.completedTransactionsCount===l.length&&(xi.setRequestId(f.requestId),Ar.P.push("PayLoading"));case 10:case"end":return n.stop()}},n)}))()}},{key:"onPayWithExchange",value:function(){if(this.exchangeUrlForQuote){var e=Fr.j.returnOpenHref("","popupWindow","scrollbar=yes,width=480,height=720");if(!e)throw new Error("Could not create popup window");e.location.href=this.exchangeUrlForQuote;var n=Yo(this.quote);n&&xi.setRequestId(n.requestId),xi.initiatePayment(),Ar.P.push("PayLoading")}}},{key:"resetAssetsState",value:function(){xi.setSelectedPaymentAsset(null)}},{key:"resetQuoteState",value:function(){xi.resetQuoteState()}}]),t}(fr.oi);ra.styles=ea,na([(0,wr.SB)()],ra.prototype,"profileName",void 0),na([(0,wr.SB)()],ra.prototype,"paymentAsset",void 0),na([(0,wr.SB)()],ra.prototype,"namespace",void 0),na([(0,wr.SB)()],ra.prototype,"caipAddress",void 0),na([(0,wr.SB)()],ra.prototype,"amount",void 0),na([(0,wr.SB)()],ra.prototype,"recipient",void 0),na([(0,wr.SB)()],ra.prototype,"activeConnectorIds",void 0),na([(0,wr.SB)()],ra.prototype,"selectedPaymentAsset",void 0),na([(0,wr.SB)()],ra.prototype,"selectedExchange",void 0),na([(0,wr.SB)()],ra.prototype,"isFetchingQuote",void 0),na([(0,wr.SB)()],ra.prototype,"quoteError",void 0),na([(0,wr.SB)()],ra.prototype,"quote",void 0),na([(0,wr.SB)()],ra.prototype,"isFetchingTokenBalances",void 0),na([(0,wr.SB)()],ra.prototype,"tokenBalances",void 0),na([(0,wr.SB)()],ra.prototype,"isPaymentInProgress",void 0),na([(0,wr.SB)()],ra.prototype,"exchangeUrlForQuote",void 0),na([(0,wr.SB)()],ra.prototype,"completedTransactionsCount",void 0),ra=na([(0,$r.Mo)("w3m-pay-quote-view")],ra);var oa=$r.iv(Ge||(Ge=mr(["\n  wui-image {\n    border-radius: ",";\n  }\n\n  .transfers-badge {\n    background-color: ",";\n    border: 1px solid ",";\n    border-radius: ",";\n  }\n"])),function(e){return e.borderRadius.round},function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.borderRadius[4]}),ia=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},aa=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.paymentAsset=xi.state.paymentAsset,e.amount=xi.state.amount,e.unsubscribe.push(xi.subscribeKey("paymentAsset",function(n){e.paymentAsset=n}),xi.subscribeKey("amount",function(n){e.amount=n})),e}return sr(t,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach(function(e){return e()})}},{key:"render",value:function(){var e,n=this,t=Tr.R.getAllRequestedCaipNetworks().find(function(e){return e.caipNetworkId===n.paymentAsset.network});return fr.dy(He||(He=mr(['<wui-flex\n      alignItems="center"\n      gap="1"\n      .padding=','\n      class="transfers-badge"\n    >\n      <wui-image src=',' size="xl"></wui-image>\n      <wui-text variant="lg-regular" color="primary">\n        '," ",'\n      </wui-text>\n      <wui-text variant="sm-regular" color="secondary">\n        on ',"\n      </wui-text>\n    </wui-flex>"])),["1","2","1","1"],(0,gr.o)(this.paymentAsset.metadata.logoURI),this.amount,this.paymentAsset.metadata.symbol,null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"Unknown")}}]),t}(fr.oi);aa.styles=[oa],ia([(0,wr.Cb)()],aa.prototype,"paymentAsset",void 0),ia([(0,wr.Cb)()],aa.prototype,"amount",void 0),aa=ia([(0,$r.Mo)("w3m-pay-header")],aa);var sa=$r.iv(Qe||(Qe=mr(["\n  :host {\n    height: 60px;\n  }\n\n  :host > wui-flex {\n    box-sizing: border-box;\n    background-color: var(--local-header-background-color);\n  }\n\n  wui-text {\n    background-color: var(--local-header-background-color);\n  }\n\n  wui-flex.w3m-header-title {\n    transform: translateY(0);\n    opacity: 1;\n  }\n\n  wui-flex.w3m-header-title[view-direction='prev'] {\n    animation:\n      slide-down-out 120ms forwards ",",\n      slide-down-in 120ms forwards ",";\n    animation-delay: 0ms, 200ms;\n  }\n\n  wui-flex.w3m-header-title[view-direction='next'] {\n    animation:\n      slide-up-out 120ms forwards ",",\n      slide-up-in 120ms forwards ",";\n    animation-delay: 0ms, 200ms;\n  }\n\n  wui-icon-button[data-hidden='true'] {\n    opacity: 0 !important;\n    pointer-events: none;\n  }\n\n  @keyframes slide-up-out {\n    from {\n      transform: translateY(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateY(3px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-up-in {\n    from {\n      transform: translateY(-3px);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-down-out {\n    from {\n      transform: translateY(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateY(-3px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-down-in {\n    from {\n      transform: translateY(3px);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n"])),function(e){return e.easings["ease-out-power-2"]},function(e){return e.easings["ease-out-power-2"]},function(e){return e.easings["ease-out-power-2"]},function(e){return e.easings["ease-out-power-2"]}),ca=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},ua=["SmartSessionList"],la={PayWithExchange:$r.gR.tokens.theme.foregroundPrimary};function da(){var e,n,t,r=Ar.P.state.data.network.name,o=null!==(e=Ar.P.state.data.wallet.name)&&void 0!==e?e:Ar.P.state.data.connector.name,i=Cr.A.getConnectors(),a=1===i.length&&"w3m-email"===(null===(n=i[0])||void 0===n?void 0:n.id),s=null===(t=Tr.R.getAccountData())||void 0===t?void 0:t.socialProvider;return{Connect:"Connect ".concat(a?"Email":""," Wallet"),Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",UsageExceeded:"Usage Exceeded",ConnectingExternal:null!=o?o:"Connect Wallet",ConnectingWalletConnect:null!=o?o:"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview Convert",Downloads:o?"Get ".concat(o):"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a Wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",ProfileWallets:"Wallets",SwitchNetwork:null!=r?r:"Switch Network",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade Your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose Name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select Token",SwapPreview:"Preview Swap",WalletSend:"Send",WalletSendPreview:"Review Send",WalletSendSelectToken:"Select Token",WalletSendConfirmed:"Confirmed",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a Wallet?",ConnectWallets:"Connect Wallet",ConnectSocials:"All Socials",ConnectingSocial:s?s.charAt(0).toUpperCase()+s.slice(1):"Connect Social",ConnectingMultiChain:"Select Chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch Chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Processing payment...",PayQuote:"Payment Quote",DataCapture:"Profile",DataCaptureOtpConfirm:"Confirm Email",FundWallet:"Fund Wallet",PayWithExchange:"Deposit from Exchange",PayWithExchangeSelectAsset:"Select Asset",SmartAccountSettings:"Smart Account Settings"}}var pa=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.heading=da()[Ar.P.state.view],e.network=Tr.R.state.activeCaipNetwork,e.networkImage=fo.f.getNetworkImage(e.network),e.showBack=!1,e.prevHistoryLength=1,e.view=Ar.P.state.view,e.viewDirection="",e.unsubscribe.push(ho.W.subscribeNetworkImages(function(){e.networkImage=fo.f.getNetworkImage(e.network)}),Ar.P.subscribeKey("view",function(n){setTimeout(function(){e.view=n,e.heading=da()[n]},So.ANIMATION_DURATIONS.HeaderText),e.onViewChange(),e.onHistoryChange()}),Tr.R.subscribeKey("activeCaipNetwork",function(n){e.network=n,e.networkImage=fo.f.getNetworkImage(e.network)})),e}return sr(t,[{key:"disconnectCallback",value:function(){this.unsubscribe.forEach(function(e){return e()})}},{key:"render",value:function(){var e;return this.style.setProperty("--local-header-background-color",null!==(e=la[Ar.P.state.view])&&void 0!==e?e:$r.gR.tokens.theme.backgroundPrimary),fr.dy(Ye||(Ye=mr(["\n      <wui-flex\n        .padding=",'\n        justifyContent="space-between"\n        alignItems="center"\n      >\n        '," "," ","\n      </wui-flex>\n    "])),["0","4","0","4"],this.leftHeaderTemplate(),this.titleTemplate(),this.rightHeaderTemplate())}},{key:"onWalletHelp",value:function(){Hr.X.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),Ar.P.push("WhatIsAWallet")}},{key:"onClose",value:function(){return(0,dr.Z)(xr().mark(function e(){return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr.safeClose();case 2:case"end":return e.stop()}},e)}))()}},{key:"rightHeaderTemplate",value:function(){return"Account"===Ar.P.state.view&&yr.h.state.features.smartSessions?fr.dy(Ze||(Ze=mr(['<wui-flex>\n      <wui-icon-button\n        icon="clock"\n        size="lg"\n        iconSize="lg"\n        type="neutral"\n        variant="primary"\n        @click=','\n        data-testid="w3m-header-smart-sessions"\n      ></wui-icon-button>\n      ',"\n    </wui-flex> "])),function(){return Ar.P.push("SmartSessionList")},this.closeButtonTemplate()):this.closeButtonTemplate()}},{key:"closeButtonTemplate",value:function(){return fr.dy(Xe||(Xe=mr(['\n      <wui-icon-button\n        icon="close"\n        size="lg"\n        type="neutral"\n        variant="primary"\n        iconSize="lg"\n        @click=','\n        data-testid="w3m-header-close"\n      ></wui-icon-button>\n    '])),this.onClose.bind(this))}},{key:"titleTemplate",value:function(){if("PayQuote"===this.view)return fr.dy($e||($e=mr(["<w3m-pay-header></w3m-pay-header>"])));var e=ua.includes(this.view);return fr.dy(Je||(Je=mr(['\n      <wui-flex\n        view-direction="','"\n        class="w3m-header-title"\n        alignItems="center"\n        gap="2"\n      >\n        <wui-text\n          display="inline"\n          variant="lg-regular"\n          color="primary"\n          data-testid="w3m-header-text"\n        >\n          ',"\n        </wui-text>\n        ","\n      </wui-flex>\n    "])),this.viewDirection,this.heading,e?fr.dy(en||(en=mr(['<wui-tag variant="accent" size="md">Beta</wui-tag>']))):null)}},{key:"leftHeaderTemplate",value:function(){var e,n=Ar.P.state.view,t="Connect"===n,r="ApproveTransaction"===n||"ConnectingSiwe"===n||t&&yr.h.state.enableEmbedded;return"Account"===n&&yr.h.state.enableNetworkSwitch?fr.dy(nn||(nn=mr(['<wui-select\n        id="dynamic"\n        data-testid="w3m-account-select-network"\n        active-network=',"\n        @click=","\n        imageSrc=","\n      ></wui-select>"])),(0,gr.o)(null===(e=this.network)||void 0===e?void 0:e.name),this.onNetworks.bind(this),(0,gr.o)(this.networkImage)):this.showBack&&!r?fr.dy(tn||(tn=mr(['<wui-icon-button\n        data-testid="header-back"\n        id="dynamic"\n        icon="chevronLeft"\n        size="lg"\n        iconSize="lg"\n        type="neutral"\n        variant="primary"\n        @click=',"\n      ></wui-icon-button>"])),this.onGoBack.bind(this)):fr.dy(rn||(rn=mr(["<wui-icon-button\n      data-hidden=",'\n      id="dynamic"\n      icon="helpCircle"\n      size="lg"\n      iconSize="lg"\n      type="neutral"\n      variant="primary"\n      @click=',"\n    ></wui-icon-button>"])),!t,this.onWalletHelp.bind(this))}},{key:"onNetworks",value:function(){this.isAllowedNetworkSwitch()&&(Hr.X.sendEvent({type:"track",event:"CLICK_NETWORKS"}),Ar.P.push("Networks"))}},{key:"isAllowedNetworkSwitch",value:function(){var e=this,n=Tr.R.getAllRequestedCaipNetworks(),t=!!n&&n.length>1,r=null==n?void 0:n.find(function(n){var t;return n.id===(null===(t=e.network)||void 0===t?void 0:t.id)});return t||!r}},{key:"onViewChange",value:function(){var e=Ar.P.state.history,n=So.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(n=So.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=n}},{key:"onHistoryChange",value:function(){var e=this;return(0,dr.Z)(xr().mark(function n(){var t,r,o;return xr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=Ar.P.state.history,o=null===(t=e.shadowRoot)||void 0===t?void 0:t.querySelector("#dynamic"),!(r.length>1&&!e.showBack&&o)){n.next=8;break}return n.next=4,o.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished;case 4:e.showBack=!0,o.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}),n.next=14;break;case 8:if(n.t0=r.length<=1&&e.showBack&&o,!n.t0){n.next=14;break}return n.next=12,o.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished;case 12:e.showBack=!1,o.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"});case 14:case"end":return n.stop()}},n)}))()}},{key:"onGoBack",value:function(){Ar.P.goBack()}}]),t}(fr.oi);pa.styles=sa,ca([(0,wr.SB)()],pa.prototype,"heading",void 0),ca([(0,wr.SB)()],pa.prototype,"network",void 0),ca([(0,wr.SB)()],pa.prototype,"networkImage",void 0),ca([(0,wr.SB)()],pa.prototype,"showBack",void 0),ca([(0,wr.SB)()],pa.prototype,"prevHistoryLength",void 0),ca([(0,wr.SB)()],pa.prototype,"view",void 0),ca([(0,wr.SB)()],pa.prototype,"viewDirection",void 0),pa=ca([(0,$r.Mo)("w3m-header")],pa),ar(51631),ar(21874);var fa=no.iv(on||(on=mr(["\n  :host {\n    display: flex;\n    align-items: center;\n    gap: ",";\n    padding: "," ","\n      "," ",";\n    border-radius: ",";\n    background-color: ",";\n    box-shadow:\n      0px 0px 8px 0px rgba(0, 0, 0, 0.1),\n      inset 0 0 0 1px ",";\n    max-width: 320px;\n  }\n\n  wui-icon-box {\n    border-radius: "," !important;\n    overflow: hidden;\n  }\n\n  wui-loading-spinner {\n    padding: ",";\n    background-color: ",";\n    border-radius: "," !important;\n  }\n"])),function(e){return e.spacing[1]},function(e){return e.spacing[2]},function(e){return e.spacing[3]},function(e){return e.spacing[2]},function(e){return e.spacing[2]},function(e){return e.borderRadius[20]},function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.tokens.theme.borderPrimary},function(e){return e.borderRadius.round},function(e){return e.spacing[1]},function(e){return e.tokens.core.foregroundAccent010},function(e){return e.borderRadius.round}),ha=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},ma=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.apply(this,arguments)).message="",e.variant="success",e}return sr(t,[{key:"render",value:function(){return fr.dy(an||(an=mr(["\n      ",'\n      <wui-text variant="lg-regular" color="primary" data-testid="wui-snackbar-message"\n        >',"</wui-text\n      >\n    "])),this.templateIcon(),this.message)}},{key:"templateIcon",value:function(){return"loading"===this.variant?fr.dy(sn||(sn=mr(['<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>']))):fr.dy(cn||(cn=mr(['<wui-icon-box\n      size="md"\n      color=',"\n      icon=","\n    ></wui-icon-box>"])),{success:"success",error:"error",warning:"warning",info:"default"}[this.variant],{success:"checkmark",error:"warning",warning:"warningCircle",info:"info"}[this.variant])}}]),t}(fr.oi);ma.styles=[Jr.ET,fa],ha([(0,wr.Cb)()],ma.prototype,"message",void 0),ha([(0,wr.Cb)()],ma.prototype,"variant",void 0),ma=ha([(0,eo.M)("wui-snackbar")],ma);var va=fr.iv(un||(un=mr(["\n  :host {\n    display: block;\n    position: absolute;\n    opacity: 0;\n    pointer-events: none;\n    top: 11px;\n    left: 50%;\n    width: max-content;\n  }\n"]))),wa=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},ga=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.timeout=void 0,e.open=Or.K.state.open,e.unsubscribe.push(Or.K.subscribeKey("open",function(n){e.open=n,e.onOpen()})),e}return sr(t,[{key:"disconnectedCallback",value:function(){clearTimeout(this.timeout),this.unsubscribe.forEach(function(e){return e()})}},{key:"render",value:function(){var e=Or.K.state,n=e.message,t=e.variant;return fr.dy(ln||(ln=mr([" <wui-snackbar message="," variant=","></wui-snackbar> "])),n,t)}},{key:"onOpen",value:function(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),Or.K.state.autoClose&&(this.timeout=setTimeout(function(){return Or.K.hide()},2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}}]),t}(fr.oi);ga.styles=va,wa([(0,wr.SB)()],ga.prototype,"open",void 0),ga=wa([(0,$r.Mo)("w3m-snackbar")],ga);var ya=(0,Br.sj)({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),ba=(0,Kr.P)({state:ya,subscribe:function(e){return(0,Br.Ld)(ya,function(){return e(ya)})},subscribeKey:function(e,n){return(0,jr.VW)(ya,e,n)},showTooltip:function(e){var n=e.message,t=e.triggerRect,r=e.variant;ya.open=!0,ya.message=n,ya.triggerRect=t,ya.variant=r},hide:function(){ya.open=!1,ya.message="",ya.triggerRect={width:0,height:0,top:0,left:0}}}),ka=fr.iv(dn||(dn=mr(["\n  :host {\n    width: 100%;\n    display: block;\n  }\n"]))),xa=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},Sa=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.text="",e.open=ba.state.open,e.unsubscribe.push(Ar.P.subscribeKey("view",function(){ba.hide()}),Sr.I.subscribeKey("open",function(e){e||ba.hide()}),ba.subscribeKey("open",function(n){e.open=n})),e}return sr(t,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach(function(e){return e()}),ba.hide()}},{key:"render",value:function(){return fr.dy(pn||(pn=mr(["\n      <div\n        @pointermove=","\n        @pointerleave=","\n      >\n        ","\n      </div>\n    "])),this.onMouseEnter.bind(this),this.onMouseLeave.bind(this),this.renderChildren())}},{key:"renderChildren",value:function(){return fr.dy(fn||(fn=mr(["<slot></slot> "])))}},{key:"onMouseEnter",value:function(){var e=this.getBoundingClientRect();if(!this.open){var n=document.querySelector("w3m-modal"),t={width:e.width,height:e.height,left:e.left,top:e.top};if(n){var r=n.getBoundingClientRect();t.left=e.left-(window.innerWidth-r.width)/2,t.top=e.top-(window.innerHeight-r.height)/2}ba.showTooltip({message:this.text,triggerRect:t,variant:"shade"})}}},{key:"onMouseLeave",value:function(e){this.contains(e.relatedTarget)||ba.hide()}}]),t}(fr.oi);Sa.styles=[ka],xa([(0,wr.Cb)()],Sa.prototype,"text",void 0),xa([(0,wr.SB)()],Sa.prototype,"open",void 0),Sa=xa([(0,$r.Mo)("w3m-tooltip-trigger")],Sa);var Ta=$r.iv(hn||(hn=mr(["\n  :host {\n    pointer-events: none;\n  }\n\n  :host > wui-flex {\n    display: var(--w3m-tooltip-display);\n    opacity: var(--w3m-tooltip-opacity);\n    padding: 9px "," 10px ",";\n    border-radius: ",";\n    color: ",";\n    position: absolute;\n    top: var(--w3m-tooltip-top);\n    left: var(--w3m-tooltip-left);\n    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));\n    max-width: calc(var(--apkt-modal-width) - ",");\n    transition: opacity ","\n      ",";\n    will-change: opacity;\n    opacity: 0;\n    animation-duration: ",";\n    animation-timing-function: ",";\n    animation-name: fade-in;\n    animation-fill-mode: forwards;\n  }\n\n  :host([data-variant='shade']) > wui-flex {\n    background-color: ",";\n  }\n\n  :host([data-variant='shade']) > wui-flex > wui-text {\n    color: ",";\n  }\n\n  :host([data-variant='fill']) > wui-flex {\n    background-color: ",";\n    border: 1px solid ",";\n  }\n\n  wui-icon {\n    position: absolute;\n    width: 12px !important;\n    height: 4px !important;\n    color: ",";\n  }\n\n  wui-icon[data-placement='top'] {\n    bottom: 0px;\n    left: 50%;\n    transform: translate(-50%, 95%);\n  }\n\n  wui-icon[data-placement='bottom'] {\n    top: 0;\n    left: 50%;\n    transform: translate(-50%, -95%) rotate(180deg);\n  }\n\n  wui-icon[data-placement='right'] {\n    top: 50%;\n    left: 0;\n    transform: translate(-65%, -50%) rotate(90deg);\n  }\n\n  wui-icon[data-placement='left'] {\n    top: 50%;\n    right: 0%;\n    transform: translate(65%, -50%) rotate(270deg);\n  }\n\n  @keyframes fade-in {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n"])),function(e){return e.spacing[3]},function(e){return e.spacing[3]},function(e){return e.borderRadius[3]},function(e){return e.tokens.theme.backgroundPrimary},function(e){return e.spacing[5]},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-2"]},function(e){return e.durations.xl},function(e){return e.easings["ease-out-power-2"]},function(e){return e.tokens.theme.foregroundPrimary},function(e){return e.tokens.theme.textSecondary},function(e){return e.tokens.theme.backgroundPrimary},function(e){return e.tokens.theme.borderPrimary},function(e){return e.tokens.theme.foregroundPrimary}),Ca=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},Pa=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.open=ba.state.open,e.message=ba.state.message,e.triggerRect=ba.state.triggerRect,e.variant=ba.state.variant,e.unsubscribe.push(ba.subscribe(function(n){e.open=n.open,e.message=n.message,e.triggerRect=n.triggerRect,e.variant=n.variant})),e}return sr(t,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach(function(e){return e()})}},{key:"render",value:function(){return this.dataset.variant=this.variant,this.style.cssText="\n    --w3m-tooltip-top: ".concat(this.triggerRect.top,"px;\n    --w3m-tooltip-left: ").concat(this.triggerRect.left,"px;\n    --w3m-tooltip-parent-width: ").concat(this.triggerRect.width/2,"px;\n    --w3m-tooltip-display: ").concat(this.open?"flex":"none",";\n    --w3m-tooltip-opacity: ").concat(this.open?1:0,";\n    "),fr.dy(mn||(mn=mr(['<wui-flex>\n      <wui-icon data-placement="top" size="inherit" name="cursor"></wui-icon>\n      <wui-text color="primary" variant="sm-regular">',"</wui-text>\n    </wui-flex>"])),this.message)}}]),t}(fr.oi);Pa.styles=[Ta],Ca([(0,wr.SB)()],Pa.prototype,"open",void 0),Ca([(0,wr.SB)()],Pa.prototype,"message",void 0),Ca([(0,wr.SB)()],Pa.prototype,"triggerRect",void 0),Ca([(0,wr.SB)()],Pa.prototype,"variant",void 0),Pa=Ca([(0,$r.Mo)("w3m-tooltip")],Pa);var Aa=function(){var e=Ar.P.state.view;if(So.VIEWS_WITH_LEGAL_FOOTER.includes(e)){var n=yr.h.state,t=n.termsConditionsUrl,r=n.privacyPolicyUrl,o=yr.h.state.features.legalCheckbox;return!(!t&&!r||o)}return So.VIEWS_WITH_DEFAULT_FOOTER.includes(e)};ar(70227);var Ia=$r.iv(vn||(vn=mr(["\n  :host wui-ux-by-reown {\n    padding-top: 0;\n  }\n\n  :host wui-ux-by-reown.branding-only {\n    padding-top: ",";\n  }\n\n  a {\n    text-decoration: none;\n    color: ",";\n    font-weight: 500;\n  }\n"])),function(e){return e.spacing[3]},function(e){return e.tokens.core.textAccentPrimary}),Ea=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},Na=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.remoteFeatures=yr.h.state.remoteFeatures,e.unsubscribe.push(yr.h.subscribeKey("remoteFeatures",function(n){return e.remoteFeatures=n})),e}return sr(t,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach(function(e){return e()})}},{key:"render",value:function(){var e=yr.h.state,n=e.termsConditionsUrl,t=e.privacyPolicyUrl;return!n&&!t||yr.h.state.features.legalCheckbox?fr.dy(wn||(wn=mr(['\n        <wui-flex flexDirection="column"> '," </wui-flex>\n      "])),this.reownBrandingTemplate(!0)):fr.dy(gn||(gn=mr(['\n      <wui-flex flexDirection="column">\n        <wui-flex .padding=',' justifyContent="center">\n          <wui-text color="secondary" variant="md-regular" align="center">\n            By connecting your wallet, you agree to our <br />\n            '," "," ","\n          </wui-text>\n        </wui-flex>\n        ","\n      </wui-flex>\n    "])),["4","3","3","3"],this.termsTemplate(),this.andTemplate(),this.privacyTemplate(),this.reownBrandingTemplate())}},{key:"andTemplate",value:function(){var e=yr.h.state,n=e.termsConditionsUrl,t=e.privacyPolicyUrl;return n&&t?"and":""}},{key:"termsTemplate",value:function(){var e=yr.h.state.termsConditionsUrl;return e?fr.dy(yn||(yn=mr(["<a href=",' target="_blank" rel="noopener noreferrer"\n      >Terms of Service</a\n    >'])),e):null}},{key:"privacyTemplate",value:function(){var e=yr.h.state.privacyPolicyUrl;return e?fr.dy(bn||(bn=mr(["<a href=",' target="_blank" rel="noopener noreferrer"\n      >Privacy Policy</a\n    >'])),e):null}},{key:"reownBrandingTemplate",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return null!==(e=this.remoteFeatures)&&void 0!==e&&e.reownBranding?n?fr.dy(kn||(kn=mr(['<wui-ux-by-reown class="branding-only"></wui-ux-by-reown>']))):fr.dy(xn||(xn=mr(["<wui-ux-by-reown></wui-ux-by-reown>"]))):null}}]),t}(fr.oi);Na.styles=[Ia],Ea([(0,wr.SB)()],Na.prototype,"remoteFeatures",void 0),Na=Ea([(0,$r.Mo)("w3m-legal-footer")],Na),ar(86417);var Ra=fr.iv(Sn||(Sn=mr([""]))),Oa=function(e){cr(t,e);var n=lr(t);function t(){return ir(this,t),n.apply(this,arguments)}return sr(t,[{key:"render",value:function(){var e=yr.h.state,n=e.termsConditionsUrl,t=e.privacyPolicyUrl;return n||t?fr.dy(Tn||(Tn=mr(["\n      <wui-flex\n        .padding=",'\n        flexDirection="column"\n        alignItems="center"\n        justifyContent="center"\n        gap="3"\n      >\n        <wui-text color="secondary" variant="md-regular" align="center">\n          We work with the best providers to give you the lowest fees and best support. More options\n          coming soon!\n        </wui-text>\n\n        ',"\n      </wui-flex>\n    "])),["4","3","3","3"],this.howDoesItWorkTemplate()):null}},{key:"howDoesItWorkTemplate",value:function(){return fr.dy(Cn||(Cn=mr([" <wui-link @click=",'>\n      <wui-icon size="xs" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>\n      How does it work?\n    </wui-link>'])),this.onWhatIsBuy.bind(this))}},{key:"onWhatIsBuy",value:function(){Hr.X.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:(0,Wr.r9)(Tr.R.state.activeChain)===Lr.y_.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ar.P.push("WhatIsABuy")}}]),t}(fr.oi);Oa.styles=[Ra],Oa=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a}([(0,$r.Mo)("w3m-onramp-providers-footer")],Oa);var Ba=$r.iv(Pn||(Pn=mr(["\n  :host {\n    display: block;\n  }\n\n  div.container {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    overflow: hidden;\n    height: auto;\n    display: block;\n  }\n\n  div.container[status='hide'] {\n    animation: fade-out;\n    animation-duration: var(--apkt-duration-dynamic);\n    animation-timing-function: ",";\n    animation-fill-mode: both;\n    animation-delay: 0s;\n  }\n\n  div.container[status='show'] {\n    animation: fade-in;\n    animation-duration: var(--apkt-duration-dynamic);\n    animation-timing-function: ",";\n    animation-fill-mode: both;\n    animation-delay: var(--apkt-duration-dynamic);\n  }\n\n  @keyframes fade-in {\n    from {\n      opacity: 0;\n      filter: blur(6px);\n    }\n    to {\n      opacity: 1;\n      filter: blur(0px);\n    }\n  }\n\n  @keyframes fade-out {\n    from {\n      opacity: 1;\n      filter: blur(0px);\n    }\n    to {\n      opacity: 0;\n      filter: blur(6px);\n    }\n  }\n"])),function(e){return e.easings["ease-out-power-2"]},function(e){return e.easings["ease-out-power-2"]}),ja=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},_a=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.apply(this,arguments)).resizeObserver=void 0,e.unsubscribe=[],e.status="hide",e.view=Ar.P.state.view,e}return sr(t,[{key:"firstUpdated",value:function(){var e=this;this.status=Aa()?"show":"hide",this.unsubscribe.push(Ar.P.subscribeKey("view",function(n){e.view=n,e.status=Aa()?"show":"hide","hide"===e.status&&document.documentElement.style.setProperty("--apkt-footer-height","0px")})),this.resizeObserver=new ResizeObserver(function(n){var t,r=Jt(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.target===e.getWrapper()&&document.documentElement.style.setProperty("--apkt-footer-height","".concat(o.contentRect.height,"px"))}}catch(i){r.e(i)}finally{r.f()}}),this.resizeObserver.observe(this.getWrapper())}},{key:"render",value:function(){return fr.dy(An||(An=mr(['\n      <div class="container" status=',">","</div>\n    "])),this.status,this.templatePageContainer())}},{key:"templatePageContainer",value:function(){return Aa()?fr.dy(In||(In=mr([" ",""])),this.templateFooter()):null}},{key:"templateFooter",value:function(){switch(this.view){case"Networks":return this.templateNetworksFooter();case"Connect":case"ConnectWallets":case"OnRampFiatSelect":case"OnRampTokenSelect":return fr.dy(En||(En=mr(["<w3m-legal-footer></w3m-legal-footer>"])));case"OnRampProviders":return fr.dy(Nn||(Nn=mr(["<w3m-onramp-providers-footer></w3m-onramp-providers-footer>"])));default:return null}}},{key:"templateNetworksFooter",value:function(){return fr.dy(Rn||(Rn=mr([' <wui-flex\n      class="footer-in"\n      padding="3"\n      flexDirection="column"\n      gap="3"\n      alignItems="center"\n    >\n      <wui-text variant="md-regular" color="secondary" align="center">\n        Your connected wallet may not support some of the networks available for this dApp\n      </wui-text>\n      <wui-link @click=','>\n        <wui-icon size="sm" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>\n        What is a network\n      </wui-link>\n    </wui-flex>'])),this.onNetworkHelp.bind(this))}},{key:"onNetworkHelp",value:function(){Hr.X.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),Ar.P.push("WhatIsANetwork")}},{key:"getWrapper",value:function(){var e;return null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("div.container")}}]),t}(fr.oi);_a.styles=[Ba],ja([(0,wr.SB)()],_a.prototype,"status",void 0),ja([(0,wr.SB)()],_a.prototype,"view",void 0),_a=ja([(0,$r.Mo)("w3m-footer")],_a);var Da=$r.iv(On||(On=mr(["\n  :host {\n    display: block;\n    width: inherit;\n  }\n"]))),La=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},Ua=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.viewState=Ar.P.state.view,e.history=Ar.P.state.history.join(","),e.unsubscribe.push(Ar.P.subscribeKey("view",function(){e.history=Ar.P.state.history.join(","),document.documentElement.style.setProperty("--apkt-duration-dynamic","var(--apkt-durations-lg)")})),e}return sr(t,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach(function(e){return e()}),document.documentElement.style.setProperty("--apkt-duration-dynamic","0s")}},{key:"render",value:function(){return fr.dy(Bn||(Bn=mr(["",""])),this.templatePageContainer())}},{key:"templatePageContainer",value:function(){var e=this;return fr.dy(jn||(jn=mr(["<w3m-router-container\n      history=","\n      .setView=","\n    >\n      ","\n    </w3m-router-container>"])),this.history,function(){e.viewState=Ar.P.state.view},this.viewTemplate(this.viewState))}},{key:"viewTemplate",value:function(e){switch(e){case"AccountSettings":return fr.dy(_n||(_n=mr(["<w3m-account-settings-view></w3m-account-settings-view>"])));case"Account":return fr.dy(Dn||(Dn=mr(["<w3m-account-view></w3m-account-view>"])));case"AllWallets":return fr.dy(Ln||(Ln=mr(["<w3m-all-wallets-view></w3m-all-wallets-view>"])));case"ApproveTransaction":return fr.dy(Un||(Un=mr(["<w3m-approve-transaction-view></w3m-approve-transaction-view>"])));case"BuyInProgress":return fr.dy(Wn||(Wn=mr(["<w3m-buy-in-progress-view></w3m-buy-in-progress-view>"])));case"ChooseAccountName":return fr.dy(zn||(zn=mr(["<w3m-choose-account-name-view></w3m-choose-account-name-view>"])));case"Connect":default:return fr.dy(Fn||(Fn=mr(["<w3m-connect-view></w3m-connect-view>"])));case"Create":return fr.dy(Mn||(Mn=mr(['<w3m-connect-view walletGuide="explore"></w3m-connect-view>'])));case"ConnectingWalletConnect":return fr.dy(qn||(qn=mr(["<w3m-connecting-wc-view></w3m-connecting-wc-view>"])));case"ConnectingWalletConnectBasic":return fr.dy(Kn||(Kn=mr(["<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>"])));case"ConnectingExternal":return fr.dy(Vn||(Vn=mr(["<w3m-connecting-external-view></w3m-connecting-external-view>"])));case"ConnectingSiwe":return fr.dy(Gn||(Gn=mr(["<w3m-connecting-siwe-view></w3m-connecting-siwe-view>"])));case"ConnectWallets":return fr.dy(Hn||(Hn=mr(["<w3m-connect-wallets-view></w3m-connect-wallets-view>"])));case"ConnectSocials":return fr.dy(Qn||(Qn=mr(["<w3m-connect-socials-view></w3m-connect-socials-view>"])));case"ConnectingSocial":return fr.dy(Yn||(Yn=mr(["<w3m-connecting-social-view></w3m-connecting-social-view>"])));case"DataCapture":return fr.dy(Zn||(Zn=mr(["<w3m-data-capture-view></w3m-data-capture-view>"])));case"DataCaptureOtpConfirm":return fr.dy(Xn||(Xn=mr(["<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>"])));case"Downloads":return fr.dy($n||($n=mr(["<w3m-downloads-view></w3m-downloads-view>"])));case"EmailLogin":return fr.dy(Jn||(Jn=mr(["<w3m-email-login-view></w3m-email-login-view>"])));case"EmailVerifyOtp":return fr.dy(et||(et=mr(["<w3m-email-verify-otp-view></w3m-email-verify-otp-view>"])));case"EmailVerifyDevice":return fr.dy(nt||(nt=mr(["<w3m-email-verify-device-view></w3m-email-verify-device-view>"])));case"GetWallet":return fr.dy(tt||(tt=mr(["<w3m-get-wallet-view></w3m-get-wallet-view>"])));case"Networks":return fr.dy(rt||(rt=mr(["<w3m-networks-view></w3m-networks-view>"])));case"SwitchNetwork":return fr.dy(ot||(ot=mr(["<w3m-network-switch-view></w3m-network-switch-view>"])));case"ProfileWallets":return fr.dy(it||(it=mr(["<w3m-profile-wallets-view></w3m-profile-wallets-view>"])));case"Transactions":return fr.dy(at||(at=mr(["<w3m-transactions-view></w3m-transactions-view>"])));case"OnRampProviders":return fr.dy(st||(st=mr(["<w3m-onramp-providers-view></w3m-onramp-providers-view>"])));case"OnRampTokenSelect":return fr.dy(ct||(ct=mr(["<w3m-onramp-token-select-view></w3m-onramp-token-select-view>"])));case"OnRampFiatSelect":return fr.dy(ut||(ut=mr(["<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>"])));case"UpgradeEmailWallet":return fr.dy(lt||(lt=mr(["<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>"])));case"UpdateEmailWallet":return fr.dy(dt||(dt=mr(["<w3m-update-email-wallet-view></w3m-update-email-wallet-view>"])));case"UpdateEmailPrimaryOtp":return fr.dy(pt||(pt=mr(["<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>"])));case"UpdateEmailSecondaryOtp":return fr.dy(ft||(ft=mr(["<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>"])));case"UnsupportedChain":return fr.dy(ht||(ht=mr(["<w3m-unsupported-chain-view></w3m-unsupported-chain-view>"])));case"Swap":return fr.dy(mt||(mt=mr(["<w3m-swap-view></w3m-swap-view>"])));case"SwapSelectToken":return fr.dy(vt||(vt=mr(["<w3m-swap-select-token-view></w3m-swap-select-token-view>"])));case"SwapPreview":return fr.dy(wt||(wt=mr(["<w3m-swap-preview-view></w3m-swap-preview-view>"])));case"WalletSend":return fr.dy(gt||(gt=mr(["<w3m-wallet-send-view></w3m-wallet-send-view>"])));case"WalletSendSelectToken":return fr.dy(yt||(yt=mr(["<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>"])));case"WalletSendPreview":return fr.dy(bt||(bt=mr(["<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>"])));case"WalletSendConfirmed":return fr.dy(kt||(kt=mr(["<w3m-send-confirmed-view></w3m-send-confirmed-view>"])));case"WhatIsABuy":return fr.dy(xt||(xt=mr(["<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>"])));case"WalletReceive":return fr.dy(St||(St=mr(["<w3m-wallet-receive-view></w3m-wallet-receive-view>"])));case"WalletCompatibleNetworks":return fr.dy(Tt||(Tt=mr(["<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>"])));case"WhatIsAWallet":return fr.dy(Ct||(Ct=mr(["<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>"])));case"ConnectingMultiChain":return fr.dy(Pt||(Pt=mr(["<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>"])));case"WhatIsANetwork":return fr.dy(At||(At=mr(["<w3m-what-is-a-network-view></w3m-what-is-a-network-view>"])));case"ConnectingFarcaster":return fr.dy(It||(It=mr(["<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>"])));case"SwitchActiveChain":return fr.dy(Et||(Et=mr(["<w3m-switch-active-chain-view></w3m-switch-active-chain-view>"])));case"RegisterAccountName":return fr.dy(Nt||(Nt=mr(["<w3m-register-account-name-view></w3m-register-account-name-view>"])));case"RegisterAccountNameSuccess":return fr.dy(Rt||(Rt=mr(["<w3m-register-account-name-success-view></w3m-register-account-name-success-view>"])));case"SmartSessionCreated":return fr.dy(Ot||(Ot=mr(["<w3m-smart-session-created-view></w3m-smart-session-created-view>"])));case"SmartSessionList":return fr.dy(Bt||(Bt=mr(["<w3m-smart-session-list-view></w3m-smart-session-list-view>"])));case"SIWXSignMessage":return fr.dy(jt||(jt=mr(["<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>"])));case"Pay":return fr.dy(_t||(_t=mr(["<w3m-pay-view></w3m-pay-view>"])));case"PayLoading":return fr.dy(Dt||(Dt=mr(["<w3m-pay-loading-view></w3m-pay-loading-view>"])));case"PayQuote":return fr.dy(Lt||(Lt=mr(["<w3m-pay-quote-view></w3m-pay-quote-view>"])));case"FundWallet":return fr.dy(Ut||(Ut=mr(["<w3m-fund-wallet-view></w3m-fund-wallet-view>"])));case"PayWithExchange":return fr.dy(Wt||(Wt=mr(["<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>"])));case"PayWithExchangeSelectAsset":return fr.dy(zt||(zt=mr(["<w3m-deposit-from-exchange-select-asset-view></w3m-deposit-from-exchange-select-asset-view>"])));case"UsageExceeded":return fr.dy(Ft||(Ft=mr(["<w3m-usage-exceeded-view></w3m-usage-exceeded-view>"])));case"SmartAccountSettings":return fr.dy(Mt||(Mt=mr(["<w3m-smart-account-settings-view></w3m-smart-account-settings-view>"])))}}}]),t}(fr.oi);Ua.styles=[Da],La([(0,wr.SB)()],Ua.prototype,"viewState",void 0),La([(0,wr.SB)()],Ua.prototype,"history",void 0),Ua=La([(0,$r.Mo)("w3m-router")],Ua);var Wa=$r.iv(qt||(qt=mr(["\n  :host {\n    z-index: ",";\n    display: block;\n    backface-visibility: hidden;\n    will-change: opacity;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n    opacity: 0;\n    background-color: ",";\n    backdrop-filter: blur(0px);\n    transition:\n      opacity "," ",",\n      backdrop-filter ","\n        ",";\n    will-change: opacity;\n  }\n\n  :host(.open) {\n    opacity: 1;\n    backdrop-filter: blur(8px);\n  }\n\n  :host(.appkit-modal) {\n    position: relative;\n    pointer-events: unset;\n    background: none;\n    width: 100%;\n    opacity: 1;\n  }\n\n  wui-card {\n    max-width: var(--apkt-modal-width);\n    width: 100%;\n    position: relative;\n    outline: none;\n    transform: translateY(4px);\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.05);\n    transition:\n      transform ","\n        ",",\n      border-radius ","\n        ",",\n      background-color ","\n        ",",\n      box-shadow ","\n        ",";\n    will-change: border-radius, background-color, transform, box-shadow;\n    background-color: ",";\n    padding: var(--local-modal-padding);\n    box-sizing: border-box;\n  }\n\n  :host(.open) wui-card {\n    transform: translateY(0px);\n  }\n\n  wui-card::before {\n    z-index: 1;\n    pointer-events: none;\n    content: '';\n    position: absolute;\n    inset: 0;\n    border-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);\n    transition: box-shadow ","\n      ",";\n    transition-delay: ",";\n    will-change: box-shadow;\n  }\n\n  :host([data-mobile-fullscreen='true']) wui-card::before {\n    border-radius: 0px;\n  }\n\n  :host([data-border='true']) wui-card::before {\n    box-shadow: inset 0px 0px 0px 4px ",";\n  }\n\n  :host([data-border='false']) wui-card::before {\n    box-shadow: inset 0px 0px 0px 1px ",";\n  }\n\n  :host([data-border='true']) wui-card {\n    animation:\n      fade-in "," ",",\n      card-background-border var(--apkt-duration-dynamic)\n        ",";\n    animation-fill-mode: backwards, both;\n    animation-delay: var(--apkt-duration-dynamic);\n  }\n\n  :host([data-border='false']) wui-card {\n    animation:\n      fade-in "," ",",\n      card-background-default var(--apkt-duration-dynamic)\n        ",";\n    animation-fill-mode: backwards, both;\n    animation-delay: 0s;\n  }\n\n  :host(.appkit-modal) wui-card {\n    max-width: var(--apkt-modal-width);\n  }\n\n  wui-card[shake='true'] {\n    animation:\n      fade-in "," ",",\n      w3m-shake ","\n        ",";\n  }\n\n  wui-flex {\n    overflow-x: hidden;\n    overflow-y: auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n  }\n\n  @media (max-height: 700px) and (min-width: 431px) {\n    wui-flex {\n      align-items: flex-start;\n    }\n\n    wui-card {\n      margin: var(--apkt-spacing-6) 0px;\n    }\n  }\n\n  @media (max-width: 430px) {\n    :host([data-mobile-fullscreen='true']) {\n      height: 100dvh;\n    }\n    :host([data-mobile-fullscreen='true']) wui-flex {\n      align-items: stretch;\n    }\n    :host([data-mobile-fullscreen='true']) wui-card {\n      max-width: 100%;\n      height: 100%;\n      border-radius: 0;\n      border: none;\n    }\n    :host(:not([data-mobile-fullscreen='true'])) wui-flex {\n      align-items: flex-end;\n    }\n\n    :host(:not([data-mobile-fullscreen='true'])) wui-card {\n      max-width: 100%;\n      border-bottom: none;\n    }\n\n    :host(:not([data-mobile-fullscreen='true'])) wui-card[data-embedded='true'] {\n      border-bottom-left-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);\n      border-bottom-right-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);\n    }\n\n    :host(:not([data-mobile-fullscreen='true'])) wui-card:not([data-embedded='true']) {\n      border-bottom-left-radius: 0px;\n      border-bottom-right-radius: 0px;\n    }\n\n    wui-card[shake='true'] {\n      animation: w3m-shake 0.5s ",";\n    }\n  }\n\n  @keyframes fade-in {\n    0% {\n      transform: scale(0.99) translateY(4px);\n    }\n    100% {\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  @keyframes w3m-shake {\n    0% {\n      transform: scale(1) rotate(0deg);\n    }\n    20% {\n      transform: scale(1) rotate(-1deg);\n    }\n    40% {\n      transform: scale(1) rotate(1.5deg);\n    }\n    60% {\n      transform: scale(1) rotate(-1.5deg);\n    }\n    80% {\n      transform: scale(1) rotate(1deg);\n    }\n    100% {\n      transform: scale(1) rotate(0deg);\n    }\n  }\n\n  @keyframes card-background-border {\n    from {\n      background-color: ",";\n    }\n    to {\n      background-color: ",";\n    }\n  }\n\n  @keyframes card-background-default {\n    from {\n      background-color: ",";\n    }\n    to {\n      background-color: ",";\n    }\n  }\n"])),function(e){return e.tokens.core.zIndex},function(e){return e.tokens.theme.overlay},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-2"]},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-2"]},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-2"]},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-1"]},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-1"]},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-1"]},function(e){return e.tokens.theme.backgroundPrimary},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-2"]},function(e){return e.durations.md},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.tokens.theme.borderPrimaryDark},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-2"]},function(e){return e.easings["ease-out-power-2"]},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-2"]},function(e){return e.easings["ease-out-power-2"]},function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-2"]},function(e){return e.durations.xl},function(e){return e.easings["ease-out-power-2"]},function(e){return e.easings["ease-out-power-2"]},function(e){return e.tokens.theme.backgroundPrimary},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.tokens.theme.foregroundSecondary},function(e){return e.tokens.theme.backgroundPrimary}),za=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},Fa="scroll-lock",Ma={PayWithExchange:"0",PayWithExchangeSelectAsset:"0",Pay:"0",PayQuote:"0",PayLoading:"0"},qa=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.call(this)).unsubscribe=[],e.abortController=void 0,e.hasPrefetched=!1,e.enableEmbedded=yr.h.state.enableEmbedded,e.open=Sr.I.state.open,e.caipAddress=Tr.R.state.activeCaipAddress,e.caipNetwork=Tr.R.state.activeCaipNetwork,e.shake=Sr.I.state.shake,e.filterByNamespace=Cr.A.state.filterByNamespace,e.padding=$r.gR.spacing[1],e.mobileFullScreen=yr.h.state.enableMobileFullScreen,e.initializeTheming(),Pr.Q.prefetchAnalyticsConfig(),e.unsubscribe.push(Sr.I.subscribeKey("open",function(n){return n?e.onOpen():e.onClose()}),Sr.I.subscribeKey("shake",function(n){return e.shake=n}),Tr.R.subscribeKey("activeCaipNetwork",function(n){return e.onNewNetwork(n)}),Tr.R.subscribeKey("activeCaipAddress",function(n){return e.onNewAddress(n)}),yr.h.subscribeKey("enableEmbedded",function(n){return e.enableEmbedded=n}),Cr.A.subscribeKey("filterByNamespace",function(n){var t;e.filterByNamespace!==n&&(null===(t=Tr.R.getAccountData(n))||void 0===t||!t.caipAddress)&&(Pr.Q.fetchRecommendedWallets(),e.filterByNamespace=n)}),Ar.P.subscribeKey("view",function(){var n;e.dataset.border=Aa()?"true":"false",e.padding=null!==(n=Ma[Ar.P.state.view])&&void 0!==n?n:$r.gR.spacing[1]})),e}return sr(t,[{key:"firstUpdated",value:function(){if(this.dataset.border=Aa()?"true":"false",this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.caipAddress){if(this.enableEmbedded)return Sr.I.close(),void this.prefetch();this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}},{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach(function(e){return e()}),this.onRemoveKeyboardListener()}},{key:"render",value:function(){return this.style.setProperty("--local-modal-padding",this.padding),this.enableEmbedded?fr.dy(Kt||(Kt=mr(["","\n        <w3m-tooltip></w3m-tooltip> "])),this.contentTemplate()):this.open?fr.dy(Vt||(Vt=mr(["\n          <wui-flex @click=",' data-testid="w3m-modal-overlay">\n            ',"\n          </wui-flex>\n          <w3m-tooltip></w3m-tooltip>\n        "])),this.onOverlayClick.bind(this),this.contentTemplate()):null}},{key:"contentTemplate",value:function(){return fr.dy(Gt||(Gt=mr([' <wui-card\n      shake="','"\n      data-embedded="','"\n      role="alertdialog"\n      aria-modal="true"\n      tabindex="0"\n      data-testid="w3m-modal-card"\n    >\n      <w3m-header></w3m-header>\n      <w3m-router></w3m-router>\n      <w3m-footer></w3m-footer>\n      <w3m-snackbar></w3m-snackbar>\n      <w3m-alertbar></w3m-alertbar>\n    </wui-card>'])),this.shake,(0,gr.o)(this.enableEmbedded))}},{key:"onOverlayClick",value:function(e){var n=this;return(0,dr.Z)(xr().mark(function t(){return xr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.target!==e.currentTarget){t.next=5;break}if(!n.mobileFullScreen){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,n.handleClose();case 5:case"end":return t.stop()}},t)}))()}},{key:"handleClose",value:function(){return(0,dr.Z)(xr().mark(function e(){return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr.safeClose();case 2:case"end":return e.stop()}},e)}))()}},{key:"initializeTheming",value:function(){var e=Rr.u.state,n=e.themeVariables,t=e.themeMode,r=$r.Hg.getColorTheme(t);(0,$r.n)(n,r)}},{key:"onClose",value:function(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),Or.K.hide(),this.onRemoveKeyboardListener()}},{key:"onOpen",value:function(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}},{key:"onScrollLock",value:function(){var e=document.createElement("style");e.dataset.w3m=Fa,e.textContent="\n      body {\n        touch-action: none;\n        overflow: hidden;\n        overscroll-behavior: contain;\n      }\n      w3m-modal {\n        pointer-events: auto;\n      }\n    ",document.head.appendChild(e)}},{key:"onScrollUnlock",value:function(){var e=document.head.querySelector('style[data-w3m="'.concat(Fa,'"]'));e&&e.remove()}},{key:"onAddKeyboardListener",value:function(){var e,n=this;this.abortController=new AbortController;var t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("wui-card");null!=t&&t.focus(),window.addEventListener("keydown",function(e){if("Escape"===e.key)n.handleClose();else if("Tab"===e.key){var r=e.target.tagName;r&&!r.includes("W3M-")&&!r.includes("WUI-")&&(null==t||t.focus())}},this.abortController)}},{key:"onRemoveKeyboardListener",value:function(){var e;null!==(e=this.abortController)&&void 0!==e&&e.abort(),this.abortController=void 0}},{key:"onNewAddress",value:function(e){var n=this;return(0,dr.Z)(xr().mark(function t(){return xr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return!e&&!Tr.R.state.isSwitchingNamespace&&"ProfileWallets"!==Ar.P.state.view&&Sr.I.close(),t.next=3,Er.w.initializeIfEnabled(e);case 3:n.caipAddress=e,Tr.R.setIsSwitchingNamespace(!1);case 5:case"end":return t.stop()}},t)}))()}},{key:"onNewNetwork",value:function(e){var n,t,r,o=null===(n=this.caipNetwork)||void 0===n||null===(t=n.caipNetworkId)||void 0===t?void 0:t.toString(),i=null==e||null===(r=e.caipNetworkId)||void 0===r?void 0:r.toString(),a="UnsupportedChain"===Ar.P.state.view,s=Sr.I.state.open,c=!1;this.enableEmbedded&&"SwitchNetwork"===Ar.P.state.view&&(c=!0),o!==i&&Xr.resetState(),s&&a&&(c=!0),c&&"SIWXSignMessage"!==Ar.P.state.view&&Ar.P.goBack(),this.caipNetwork=e}},{key:"prefetch",value:function(){this.hasPrefetched||(Pr.Q.prefetch(),Pr.Q.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}]),t}(fr.oi);qa.styles=Wa,za([(0,wr.Cb)({type:Boolean})],qa.prototype,"enableEmbedded",void 0),za([(0,wr.SB)()],qa.prototype,"open",void 0),za([(0,wr.SB)()],qa.prototype,"caipAddress",void 0),za([(0,wr.SB)()],qa.prototype,"caipNetwork",void 0),za([(0,wr.SB)()],qa.prototype,"shake",void 0),za([(0,wr.SB)()],qa.prototype,"filterByNamespace",void 0),za([(0,wr.SB)()],qa.prototype,"padding",void 0),za([(0,wr.SB)()],qa.prototype,"mobileFullScreen",void 0);var Ka=function(e){cr(t,e);var n=lr(t);function t(){return ir(this,t),n.apply(this,arguments)}return sr(t)}(qa);Ka=za([(0,$r.Mo)("w3m-modal")],Ka);var Va=function(e){cr(t,e);var n=lr(t);function t(){return ir(this,t),n.apply(this,arguments)}return sr(t)}(qa);Va=za([(0,$r.Mo)("appkit-modal")],Va);var Ga=$r.iv(Ht||(Ht=mr(["\n  .icon-box {\n    width: 64px;\n    height: 64px;\n    border-radius: ",";\n    background-color: ",";\n  }\n"])),function(e){return e.borderRadius[5]},function(e){return e.colors.semanticError010}),Ha=function(e){cr(t,e);var n=lr(t);function t(){return ir(this,t),n.call(this)}return sr(t,[{key:"render",value:function(){return fr.dy(Qt||(Qt=mr(['\n      <wui-flex\n        flexDirection="column"\n        alignItems="center"\n        gap="4"\n        .padding="','"\n      >\n        <wui-flex justifyContent="center" alignItems="center" class="icon-box">\n          <wui-icon size="xxl" color="error" name="warningCircle"></wui-icon>\n        </wui-flex>\n\n        <wui-text variant="lg-medium" color="primary" align="center">\n          The app isn\'t responding as expected\n        </wui-text>\n        <wui-text variant="md-regular" color="secondary" align="center">\n          Try again or reach out to the app team for help.\n        </wui-text>\n\n        <wui-button\n          variant="neutral-secondary"\n          size="md"\n          @click=','\n          data-testid="w3m-usage-exceeded-button"\n        >\n          <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>\n          Try Again\n        </wui-button>\n      </wui-flex>\n    '])),["1","3","4","3"],this.onTryAgainClick.bind(this))}},{key:"onTryAgainClick",value:function(){Ar.P.goBack()}}]),t}(fr.oi);Ha.styles=Ga,Ha=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a}([(0,$r.Mo)("w3m-usage-exceeded-view")],Ha);var Qa=ar(13618),Ya=(ar(4374),$r.iv(Yt||(Yt=mr(["\n  :host {\n    width: 100%;\n  }\n"])))),Za=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},Xa=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.apply(this,arguments)).hasImpressionSent=!1,e.walletImages=[],e.imageSrc="",e.name="",e.size="md",e.tabIdx=void 0,e.disabled=!1,e.showAllWallets=!1,e.loading=!1,e.loadingSpinnerColor="accent-100",e.rdnsId="",e.displayIndex=void 0,e.walletRank=void 0,e.namespaces=[],e}return sr(t,[{key:"connectedCallback",value:function(){nr(hr(t.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function(){nr(hr(t.prototype),"disconnectedCallback",this).call(this),this.cleanupIntersectionObserver()}},{key:"updated",value:function(e){nr(hr(t.prototype),"updated",this).call(this,e),(e.has("name")||e.has("imageSrc")||e.has("walletRank"))&&(this.hasImpressionSent=!1),e.has("walletRank")&&this.walletRank&&!this.intersectionObserver&&this.setupIntersectionObserver()}},{key:"setupIntersectionObserver",value:function(){var e=this;this.intersectionObserver=new IntersectionObserver(function(n){n.forEach(function(n){n.isIntersecting&&!e.loading&&!e.hasImpressionSent&&e.sendImpressionEvent()})},{threshold:.1}),this.intersectionObserver.observe(this)}},{key:"cleanupIntersectionObserver",value:function(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}},{key:"sendImpressionEvent",value:function(){!this.name||this.hasImpressionSent||!this.walletRank||(this.hasImpressionSent=!0,(this.rdnsId||this.name)&&Hr.X.sendWalletImpressionEvent({name:this.name,walletRank:this.walletRank,rdnsId:this.rdnsId,view:Ar.P.state.view,displayIndex:this.displayIndex}))}},{key:"handleGetWalletNamespaces",value:function(){return Object.keys(Qa.j.state.adapters).length>1?this.namespaces:[]}},{key:"render",value:function(){return fr.dy(Zt||(Zt=mr(["\n      <wui-list-wallet\n        .walletImages=","\n        imageSrc=","\n        name=","\n        size=","\n        tagLabel=","\n        .tagVariant=","\n        .walletIcon=","\n        .tabIdx=","\n        .disabled=","\n        .showAllWallets=","\n        .loading=","\n        loadingSpinnerColor=","\n        .namespaces=","\n      ></wui-list-wallet>\n    "])),this.walletImages,(0,gr.o)(this.imageSrc),this.name,(0,gr.o)(this.size),(0,gr.o)(this.tagLabel),this.tagVariant,this.walletIcon,this.tabIdx,this.disabled,this.showAllWallets,this.loading,this.loadingSpinnerColor,this.handleGetWalletNamespaces())}}]),t}(fr.oi);Xa.styles=Ya,Za([(0,wr.Cb)({type:Array})],Xa.prototype,"walletImages",void 0),Za([(0,wr.Cb)()],Xa.prototype,"imageSrc",void 0),Za([(0,wr.Cb)()],Xa.prototype,"name",void 0),Za([(0,wr.Cb)()],Xa.prototype,"size",void 0),Za([(0,wr.Cb)()],Xa.prototype,"tagLabel",void 0),Za([(0,wr.Cb)()],Xa.prototype,"tagVariant",void 0),Za([(0,wr.Cb)()],Xa.prototype,"walletIcon",void 0),Za([(0,wr.Cb)()],Xa.prototype,"tabIdx",void 0),Za([(0,wr.Cb)({type:Boolean})],Xa.prototype,"disabled",void 0),Za([(0,wr.Cb)({type:Boolean})],Xa.prototype,"showAllWallets",void 0),Za([(0,wr.Cb)({type:Boolean})],Xa.prototype,"loading",void 0),Za([(0,wr.Cb)({type:String})],Xa.prototype,"loadingSpinnerColor",void 0),Za([(0,wr.Cb)()],Xa.prototype,"rdnsId",void 0),Za([(0,wr.Cb)()],Xa.prototype,"displayIndex",void 0),Za([(0,wr.Cb)()],Xa.prototype,"walletRank",void 0),Za([(0,wr.Cb)({type:Array})],Xa.prototype,"namespaces",void 0),Xa=Za([(0,$r.Mo)("w3m-list-wallet")],Xa);var $a=$r.iv(Xt||(Xt=mr(["\n  :host {\n    --local-duration-height: 0s;\n    --local-duration: ",";\n    --local-transition: ",";\n  }\n\n  .container {\n    display: block;\n    overflow: hidden;\n    overflow: hidden;\n    position: relative;\n    height: var(--local-container-height);\n    transition: height var(--local-duration-height) var(--local-transition);\n    will-change: height, padding-bottom;\n  }\n\n  .container[data-mobile-fullscreen='true'] {\n    overflow: scroll;\n  }\n\n  .page {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    height: auto;\n    width: inherit;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    background-color: ",";\n    border-bottom-left-radius: var(--local-border-bottom-radius);\n    border-bottom-right-radius: var(--local-border-bottom-radius);\n    transition: border-bottom-left-radius var(--local-duration) var(--local-transition);\n  }\n\n  .page[data-mobile-fullscreen='true'] {\n    height: 100%;\n  }\n\n  .page-content {\n    display: flex;\n    flex-direction: column;\n    min-height: 100%;\n  }\n\n  .footer {\n    height: var(--apkt-footer-height);\n  }\n\n  div.page[view-direction^='prev-'] .page-content {\n    animation:\n      slide-left-out var(--local-duration) forwards var(--local-transition),\n      slide-left-in var(--local-duration) forwards var(--local-transition);\n    animation-delay: 0ms, var(--local-duration, ",");\n  }\n\n  div.page[view-direction^='next-'] .page-content {\n    animation:\n      slide-right-out var(--local-duration) forwards var(--local-transition),\n      slide-right-in var(--local-duration) forwards var(--local-transition);\n    animation-delay: 0ms, var(--local-duration, ",");\n  }\n\n  @keyframes slide-left-out {\n    from {\n      transform: translateX(0px) scale(1);\n      opacity: 1;\n      filter: blur(0px);\n    }\n    to {\n      transform: translateX(8px) scale(0.99);\n      opacity: 0;\n      filter: blur(4px);\n    }\n  }\n\n  @keyframes slide-left-in {\n    from {\n      transform: translateX(-8px) scale(0.99);\n      opacity: 0;\n      filter: blur(4px);\n    }\n    to {\n      transform: translateX(0) translateY(0) scale(1);\n      opacity: 1;\n      filter: blur(0px);\n    }\n  }\n\n  @keyframes slide-right-out {\n    from {\n      transform: translateX(0px) scale(1);\n      opacity: 1;\n      filter: blur(0px);\n    }\n    to {\n      transform: translateX(-8px) scale(0.99);\n      opacity: 0;\n      filter: blur(4px);\n    }\n  }\n\n  @keyframes slide-right-in {\n    from {\n      transform: translateX(8px) scale(0.99);\n      opacity: 0;\n      filter: blur(4px);\n    }\n    to {\n      transform: translateX(0) translateY(0) scale(1);\n      opacity: 1;\n      filter: blur(0px);\n    }\n  }\n"])),function(e){return e.durations.lg},function(e){return e.easings["ease-out-power-2"]},function(e){return e.tokens.theme.backgroundPrimary},function(e){return e.durations.lg},function(e){return e.durations.lg}),Ja=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},es=function(e){cr(t,e);var n=lr(t);function t(){var e;return ir(this,t),(e=n.apply(this,arguments)).resizeObserver=void 0,e.transitionDuration="0.15s",e.transitionFunction="",e.history="",e.view="",e.setView=void 0,e.viewDirection="",e.historyState="",e.previousHeight="0px",e.mobileFullScreen=yr.h.state.enableMobileFullScreen,e.onViewportResize=function(){e.updateContainerHeight()},e}return sr(t,[{key:"updated",value:function(e){if(e.has("history")){var n=this.history;""!==this.historyState&&this.historyState!==n&&this.onViewChange(n)}e.has("transitionDuration")&&this.style.setProperty("--local-duration",this.transitionDuration),e.has("transitionFunction")&&this.style.setProperty("--local-transition",this.transitionFunction)}},{key:"firstUpdated",value:function(){var e,n=this;this.transitionFunction&&this.style.setProperty("--local-transition",this.transitionFunction),this.style.setProperty("--local-duration",this.transitionDuration),this.historyState=this.history,this.resizeObserver=new ResizeObserver(function(e){var t,r=Jt(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.target===n.getWrapper()){var i,a=o.contentRect.height,s=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");n.mobileFullScreen?(a=((null===(i=window.visualViewport)||void 0===i?void 0:i.height)||window.innerHeight)-n.getHeaderHeight()-s,n.style.setProperty("--local-border-bottom-radius","0px")):(a+=s,n.style.setProperty("--local-border-bottom-radius",s?"var(--apkt-borderRadius-5)":"0px")),n.style.setProperty("--local-container-height","".concat(a,"px")),"0px"!==n.previousHeight&&n.style.setProperty("--local-duration-height",n.transitionDuration),n.previousHeight="".concat(a,"px")}}}catch(c){r.e(c)}finally{r.f()}}),this.resizeObserver.observe(this.getWrapper()),this.updateContainerHeight(),window.addEventListener("resize",this.onViewportResize),null===(e=window.visualViewport)||void 0===e||e.addEventListener("resize",this.onViewportResize)}},{key:"disconnectedCallback",value:function(){var e,n=this.getWrapper();n&&this.resizeObserver&&this.resizeObserver.unobserve(n),window.removeEventListener("resize",this.onViewportResize),null===(e=window.visualViewport)||void 0===e||e.removeEventListener("resize",this.onViewportResize)}},{key:"render",value:function(){return fr.dy($t||($t=mr(['\n      <div class="container" data-mobile-fullscreen="','">\n        <div\n          class="page"\n          data-mobile-fullscreen="','"\n          view-direction="','"\n        >\n          <div class="page-content">\n            <slot></slot>\n          </div>\n        </div>\n      </div>\n    '])),(0,gr.o)(this.mobileFullScreen),(0,gr.o)(this.mobileFullScreen),this.viewDirection)}},{key:"onViewChange",value:function(e){var n=this,t=e.split(",").filter(Boolean),r=this.historyState.split(",").filter(Boolean),o=r.length,i=t.length,a=t[t.length-1]||"",s=$r.Hg.cssDurationToNumber(this.transitionDuration),c="";i>o?c="next":i<o?c="prev":i===o&&t[i-1]!==r[o-1]&&(c="next"),this.viewDirection="".concat(c,"-").concat(a),setTimeout(function(){var t;n.historyState=e,null===(t=n.setView)||void 0===t||t.call(n,a)},s),setTimeout(function(){n.viewDirection=""},2*s)}},{key:"getWrapper",value:function(){var e;return null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("div.page")}},{key:"updateContainerHeight",value:function(){var e,n=this.getWrapper();if(n){var t=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0"),r=0;this.mobileFullScreen?(r=((null===(e=window.visualViewport)||void 0===e?void 0:e.height)||window.innerHeight)-this.getHeaderHeight()-t,this.style.setProperty("--local-border-bottom-radius","0px")):(r=n.getBoundingClientRect().height+t,this.style.setProperty("--local-border-bottom-radius",t?"var(--apkt-borderRadius-5)":"0px")),this.style.setProperty("--local-container-height","".concat(r,"px")),"0px"!==this.previousHeight&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight="".concat(r,"px")}}},{key:"getHeaderHeight",value:function(){return 60}}]),t}(fr.oi);es.styles=[$a],Ja([(0,wr.Cb)({type:String})],es.prototype,"transitionDuration",void 0),Ja([(0,wr.Cb)({type:String})],es.prototype,"transitionFunction",void 0),Ja([(0,wr.Cb)({type:String})],es.prototype,"history",void 0),Ja([(0,wr.Cb)({type:String})],es.prototype,"view",void 0),Ja([(0,wr.Cb)({attribute:!1})],es.prototype,"setView",void 0),Ja([(0,wr.SB)()],es.prototype,"viewDirection",void 0),Ja([(0,wr.SB)()],es.prototype,"historyState",void 0),Ja([(0,wr.SB)()],es.prototype,"previousHeight",void 0),Ja([(0,wr.SB)()],es.prototype,"mobileFullScreen",void 0),es=Ja([(0,$r.Mo)("w3m-router-container")],es)}}])}();